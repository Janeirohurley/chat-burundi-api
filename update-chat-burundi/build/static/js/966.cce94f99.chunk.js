(self.webpackChunkupdate_chat_burundi=self.webpackChunkupdate_chat_burundi||[]).push([[966,169],{367:function(e,t,n){"use strict";n(2791);var r=n(184);t.Z=function(e){return document.title="Chat Burundi - "+e.title,(0,r.jsx)("div",{className:"w-100",children:e.children})}},5392:function(e,t,n){"use strict";var r=n(2791),i=n(184),s=function(e){var t=e.text,n=e.type,r=e.color;return(0,i.jsxs)("div",{style:{backgroundImage:r||" linear-gradient(to right bottom, rgb(228, 64, 92), purple)"},className:"cardCanvas",children:["trending"===n&&(0,i.jsx)("p",{children:t}),"posts"===n&&(0,i.jsx)("h2",{children:t})]})};t.Z=(0,r.memo)(s)},8169:function(e,t,n){"use strict";n.r(t);var r=n(9439),i=n(1413),s=n(4165),o=n(5861),a=n(2791),c=n(1243),l=n(2010),u=n(9434),d=n(1896),h=n(4212),f=n(5194),m=n(6151),p=n(3543),g=n(3400),v=n(9658),x=n(184),j=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,3e3)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(0,a.lazy)((function(){return j(Promise.all([n.e(860),n.e(762),n.e(191),n.e(752)]).then(n.bind(n,5752)))})),y=a.forwardRef((function(e,t){return(0,x.jsx)(v.Z,(0,i.Z)({elevation:6,ref:t,variant:"filled"},e))})),w=function(e){var t=e.socket,n=e.type,i=e.paramsId,v=(e.hisprofile,e.postId),j=(0,u.I0)(),w=(0,a.useState)(!0),b=(0,r.Z)(w,2),N=b[0],L=b[1],Z=(0,a.useState)(5),E=(0,r.Z)(Z,2),S=E[0],C=E[1],z=(0,a.useState)(),M=(0,r.Z)(z,2),_=M[0],F=M[1],P=(0,u.v9)((function(e){return e.posts})),A=(0,u.v9)((function(e){return e.Allpost})),I=(0,u.v9)((function(e){return e.userInfo})),W=(0,a.useState)(!1),H=(0,r.Z)(W,2),O=H[0],R=H[1],T=(0,a.useState)(!1),q=(0,r.Z)(T,2),U=q[0],J=q[1],B=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight-50&&L(!0)},D=function(e,t){"clickaway"!==t&&J(!1)},V=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Z,{color:"secondary",size:"small",onClick:D,children:"UNDO"}),(0,x.jsx)(g.Z,{size:"small","aria-label":"close",color:"inherit",onClick:D})]});(0,a.useEffect)((function(){if(N){var e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)({method:"GET",url:h.L+"/api/post/",withCredentials:!0}).then((function(e){for(var t=e.data,n=(0,d.MN)(t,I.following,I._id).slice(0,S),r=0;r<n.length;r++)n[r].comments.reverse();j(l.J.fetchAllPosts(n)),L(!1),C((function(e){return e+5}))})).catch((function(e){R(e.message),L(!1),J(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[N]),(0,a.useEffect)((function(){return window.addEventListener("scroll",B),function(){return window.removeEventListener("scroll",B)}}),[]);var G=(0,a.useCallback)((function(){var e=A.filter((function(e){return e._id===v}));F(e)}),[A]);(0,a.useEffect)((function(){G(),console.log(_)}),[G]);var Q=(0,a.useCallback)((function(){L(!0),R(!1)}),[]);return(0,x.jsxs)("div",{className:i?"hisPosts":"feeds",children:["home"===n&&!(0,d.xb)(P[0])&&P.map((function(e,n){return(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(f.Z,{},Math.random()),children:(0,x.jsx)(k,{post:e,count:S,socket:t},e._id)},n)})),"profile"===n&&!(0,d.xb)(P[0])&&P.map((function(e,n){return(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(f.Z,{},Math.random()),children:e.posterId===I._id&&(0,x.jsx)(k,{post:e,count:S,socket:t},Math.random())},n)})),"hisprofile"===n&&i&&!(0,d.xb)(P[0])&&P.map((function(e,n){return(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(f.Z,{},Math.random()),children:e.posterId===i&&(0,x.jsx)(k,{post:e,count:S,socket:t},Math.random())},n)})),"single"===n&&!(0,d.xb)(A[0])&&v&&A.map((function(e,r){return(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)(f.Z,{},Math.random()),children:e._id===v&&(0,x.jsx)(k,{post:e,count:1,socket:t,single:n},Math.random())},r)})),O&&(0,x.jsx)("div",{style:{cursor:"pointer"},onClick:Q,className:"cardCanvas",children:O}),N&&(0,x.jsx)(f.Z,{}),(0,x.jsx)(p.Z,{open:U,autoHideDuration:6e3,onClose:D,action:V,children:(0,x.jsx)(y,{onClose:D,severity:"error",sx:{width:"100%"},children:"CONNECTION WAS LOST"})})]})};t.default=(0,a.memo)(w)},3821:function(e,t,n){"use strict";var r=n(9439),i=n(2791),s=n(9434),o=n(7689),a=n(1087),c=n(1896),l=n(6587),u=n(3044),d=n(619),h=n(184),f=(0,i.memo)((function(){var e=(0,s.v9)((function(e){return e.getusers})),t=(0,s.v9)((function(e){return e.userInfo})),n=(0,i.useState)(!0),f=(0,r.Z)(n,2),m=f[0],p=f[1],g=(0,i.useState)(!0),v=(0,r.Z)(g,2),x=v[0],j=v[1],k=(0,i.useState)([]),y=(0,r.Z)(k,2),w=y[0],b=y[1],N=(0,i.useState)([]),L=(0,r.Z)(N,2),Z=L[0],E=L[1],S=(0,s.v9)((function(e){return e.AllChat})),C=(0,s.v9)((function(e){return e.OnlineUsers})),z=(0,o.s0)(),M=(0,i.useContext)(d.p).updatecurrentChat;(0,i.useEffect)((function(){if(!(0,c.xb)(S[0])){var e=S.filter((function(e){return e.latestMessage})),t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){var n,r;return(null===(n=t.latestMessage)||void 0===n?void 0:n.createdAt)-(null===(r=e.latestMessage)||void 0===r?void 0:r.createdAt)}));t.length=3,E(t)}}),[S]),(0,i.useEffect)((function(){!x||(0,c.xb)(e[0])||(0,c.xb)(t._id)||(!function(){for(var n=[],r=0;r<e.length;r++)e[r]===t._id||e[r].followers.includes(t._id)||n.push(e[r]._id);n.sort((function(){return.5-Math.random()})),window.innerHeight>70&&(n.length=5),b(n)}(),p(!1),j(!1))}),[e,t,x]);return(0,i.useEffect)((function(){var e=null===S||void 0===S?void 0:S.filter((function(e){var n;return null===e||void 0===e||null===(n=e.users)||void 0===n?void 0:n.includes(null===t||void 0===t?void 0:t._id)}));console.log(e)}),[]),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"right",children:[(0,h.jsx)(h.Fragment,{children:Z&&(0,h.jsx)("div",{className:"messages",children:(0,h.jsxs)("div",{className:"single-chat",children:[(0,h.jsx)("div",{className:"heading",children:(0,h.jsx)("h4",{children:"Latest Messages"})}),Z&&Z.map((function(e){var n,r,i,s,o;return(0,h.jsxs)("div",{className:"message",onClick:function(){return function(e){z("/messenger"),M(e)}(e)},children:[(0,h.jsxs)("div",{className:"profile-picture",children:[(0,h.jsx)(u.Z,{src:null===(n=e.latestMessage)||void 0===n?void 0:n.sender.picture,alt:"aa"}),(0,h.jsx)("div",{className:(0,c.Gg)(null===(r=e.latestMessage)||void 0===r?void 0:r.sender._id,C)?"active":""})]}),(0,h.jsxs)("div",{className:"messge-body",children:[(0,h.jsx)("h5",{children:(null===(i=e.latestMessage)||void 0===i?void 0:i.sender.pseudo)===t.pseudo?"You":null===(s=e.latestMessage)||void 0===s?void 0:s.sender.pseudo}),(0,h.jsxs)("p",{className:"text-muted",children:[(0,c.F8)(null===(o=e.latestMessage)||void 0===o?void 0:o.message)," "]})]})]},e._id)}))]})})}),(0,i.useMemo)((function(){return(0,h.jsxs)("div",{className:"freind-requests",children:[(0,h.jsx)("h4",{children:"Suggestions"}),m?(0,h.jsx)("div",{className:"feed",children:"Loading....."}):(0,h.jsxs)(h.Fragment,{children:[w&&w.map((function(n){for(var r=0;r<e.length;r++)if(n===e[r]._id&&n!==t._id)return(0,h.jsxs)("div",{className:"request",children:[(0,h.jsxs)("div",{className:"info",children:[(0,h.jsx)("div",{className:"profile-picture",children:(0,h.jsx)(u.Z,{src:e[r].picture,alt:"aa"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(a.rU,{className:"linkProfile",to:"/profile/".concat(e[r]._id),children:(0,h.jsx)("h5",{className:"noum",children:e[r].pseudo})}),(0,h.jsxs)("p",{className:"text-muted",children:[e[r].following.length," following"]})]})]}),(0,h.jsxs)("div",{className:"action",children:[(0,h.jsx)(l.Z,{idTofollow:n,type:"suggestion"}),(0,h.jsx)("button",{className:" btn-new",children:"gretting"})]})]},Math.random())})),(0,h.jsx)("div",{className:"request",children:(0,h.jsx)("div",{className:"profile-picture-ab",children:"For Looking others......"})})]})]})}),[w,e,m,t._id])]})})}));t.Z=f},5194:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(2791);var r=n(7047),i=n(1582),s=n(184);function o(){return(0,s.jsxs)(i.Z,{spacing:1,sx:{backgroundColor:"var(--color-white)",margin:"1rem 0rem",padding:"1.1rem",borderRadius:"10px"},children:[(0,s.jsx)(r.Z,{variant:"circular",width:40,height:40,sx:{backgroundColor:"var(--color-light)"}}),(0,s.jsx)(r.Z,{variant:"text",sx:{fontSize:"1rem",backgroundColor:"var(--color-light)"}}),(0,s.jsx)(r.Z,{variant:"rectangular",width:"100%",height:200,sx:{backgroundColor:"var(--color-light)"}}),(0,s.jsx)(r.Z,{variant:"rounded",width:"100%",height:60,sx:{backgroundColor:"var(--color-light)"}})]})}},6587:function(e,t,n){"use strict";var r=n(4165),i=n(5861),s=n(9439),o=n(1243),a=n(2791),c=n(9434),l=n(7498),u=n(1896),d=n(4212),h=n(184),f=function(e){var t=e.idTofollow,n=e.type,f=e.socket,m=(0,a.useState)(!1),p=(0,s.Z)(m,2),g=p[0],v=p[1],x=(0,c.I0)(),j=(0,c.v9)((function(e){return e.userInfo})),k=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/user/follow/").concat(t),withCredentials:!0,data:{idToFollow:n}}).then((function(e){x(l.Z.Follow(n)),(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/post/notification/").concat(n),data:{notifieId:j._id,notifiePseudo:j.pseudo,notification:"start following  u",status:"pending",pictureNotifie:j.picture},withCredentials:!0}).then((function(e){console.log(e),f.emit("sendNotification",{senderName:j._id,resverName:n,timeNot:new Date})})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.next=3,(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/user/unfollow/").concat(n),withCredentials:!0,data:{idToUnFollow:i}}).then((function(e){x(l.Z.UnFollow(t))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(0,u.xb)(j.following)||(j.following.includes(t)?v(!0):v(!1))}),[j,t]),(0,h.jsxs)(h.Fragment,{children:[!0===g&&(0,h.jsxs)("span",{onClick:function(){return y(j._id,t)},children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary",children:"UnFollow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-fill"})]}),!1===g&&t!==j._id&&(0,h.jsxs)("span",{onClick:function(){return k(j._id,t)},children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary",children:"follow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]}),!1===g&&t===j._id&&(0,h.jsxs)("span",{children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary disableButton",children:"follow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]})]})};t.Z=(0,a.memo)(f)},3966:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return se}});var r=n(9439),i=n(2791),s=n(367),o=n(4165),a=n(5861),c=n(3433),l=n(1087),u=n(619),d=n(9434),h=n(2010),f=n(4212),m=n(1697),p=n(3044),g=n(1243),v=n(1896),x=n(2090),j=n(1271),k=n(184),y=function(e){var t,n,s,y=e.user,w=e.setcustomizeTheme,b=e.socket,N=e.leftcontainer,L=e.leftcontainerModal,Z=e.hideshowModal,E=(0,i.useState)([]),S=(0,r.Z)(E,2),C=S[0],z=S[1],M=(0,i.useState)(!1),_=(0,r.Z)(M,2),F=_[0],P=_[1],A=(0,i.useState)(5),I=(0,r.Z)(A,2),W=I[0],H=I[1],O=((0,d.v9)((function(e){return e.getusers})),(0,i.useState)([])),R=(0,r.Z)(O,2),T=R[0],q=R[1],U=(0,i.useContext)(m.i),J=(0,i.useContext)(u.p),B=(0,d.I0)();(0,i.useEffect)((function(){null===b||void 0===b||b.on("getNotification",(function(e){return U&&(0,g.Z)({method:"get",url:"".concat(f.L,"/api/user/").concat(U),withCredentials:!0}).then((function(e){var t=e.data.notifications.filter((function(e){return"pending"===e.status&&e.notifieId!==U}));z(t)})).catch((function(e){return console.log(e)})),function(){b.off("getNotification")}}))}),[b]),(0,i.useEffect)((function(){null===b||void 0===b||b.on("getNewpost",(function(e){return q((function(t){return[].concat((0,c.Z)(t),[e])})),function(){b.off("getNewpost")}}))}),[b]),(0,i.useEffect)((function(){F&&U&&(z([]),(0,g.Z)({method:"get",url:"".concat(f.L,"/api/user/notification/").concat(U),withCredentials:!0}).then((function(e){e.data})).catch((function(e){return console.log(e)}))),B(j.N.open(F))}),[F,B,U]),(0,i.useEffect)((function(){U&&(0,g.Z)({method:"get",url:"".concat(f.L,"/api/user/").concat(U),withCredentials:!0}).then((function(e){var t=e.data.notifications.filter((function(e){return"pending"===e.status&&e.notifieId!==U}));z(t)})).catch((function(e){return console.log(e)}))}),[U]);var D=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)({method:"GET",url:f.L+"/api/post/",withCredentials:!0}).then((function(e){var t=e.data.slice(0,W);B(h.J.fetchAllPosts(t)),console.log("fetch again from leftbar"),H(W+5),q([])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)("div",{className:"left-container-model",ref:N,onClick:Z,children:(0,k.jsxs)("div",{className:"left",ref:L,children:[(0,k.jsxs)(l.rU,{to:"/profile/me",className:"profile",children:[(0,k.jsx)("div",{className:"profile-picture",children:(0,k.jsx)(p.Z,{src:y.picture,alt:"profile1",srcSet:""})}),(0,k.jsxs)("div",{className:"handle",children:[(0,k.jsx)("h4",{children:y.pseudo}),(0,k.jsxs)("p",{className:"text-muted",children:["$",y.pseudo]})]})]}),(0,k.jsxs)("div",{className:"sidebar",children:[(0,k.jsxs)(l.rU,{to:"/",className:"menu-item active",children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{onClick:function(){return D()},className:"ri-home-2-line",children:(0,k.jsx)("small",{className:T&&0!==T.length?"notifications-count":"",children:T&&0!==T.length?T.length:""})})})," ",(0,k.jsx)("h3",{children:"Home"})]}),(0,k.jsxs)(l.rU,{to:"/messenger",className:"menu-item",id:"messeges-notification",children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:"ri-mail-line",children:(0,k.jsx)("small",{className:(null===(t=(0,x.AG)(null===J||void 0===J?void 0:J.notifications))||void 0===t?void 0:t.length)&&"notifications-count",children:(null===(n=(0,x.AG)(null===J||void 0===J?void 0:J.notifications))||void 0===n?void 0:n.length)>0&&(null===(s=(0,x.AG)(null===J||void 0===J?void 0:J.notifications))||void 0===s?void 0:s.length)})})})," ",(0,k.jsx)("h3",{children:"Messages"})]}),(0,k.jsxs)(l.rU,{to:"#",className:"menu-item",id:"notifications",onClick:function(){return P((function(e){return!e}))},children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{onClick:function(){return P((function(e){return!e}))},className:"ri-notification-3-line",children:(0,k.jsx)("small",{className:0!==C.length?"notifications-count":"",children:0!==C.length&&(C.length>9?"9+":C.length)})})}),(0,k.jsx)("h3",{children:"Notifications"})]}),(0,k.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:" ri-bookmark-3-line",children:(0,k.jsx)("small",{className:(0,v.xb)(y.saved)?void 0:"notifications-count",children:!(0,v.xb)(y.saved)&&(y.saved.length>9?"9+":y.saved.length)})})})," ",(0,k.jsx)("h3",{children:"Bookmarks"})]}),(0,k.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:"ri-bar-chart-grouped-line"})})," ",(0,k.jsx)("h3",{children:"Analystics"})]}),(0,k.jsxs)(l.rU,{to:"#",className:"menu-item",onClick:function(){return w(!0)},children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:"ri-palette-line"})})," ",(0,k.jsx)("h3",{children:"Theme"})]}),(0,k.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:"ri-settings-3-line"})})," ",(0,k.jsx)("h3",{children:"Settings"})]})]}),(0,k.jsx)("label",{htmlFor:"create-post",className:"btn btn-primary",children:"Create post"})]})})},w=n(843),b=n(5392),N=function(){var e=(0,d.v9)((function(e){return e.Allpost})),t=(0,d.v9)((function(e){return e.getusers})),n=(0,d.v9)((function(e){return e.trending})),r=(0,d.I0)();return(0,i.useEffect)((function(){if(!(0,v.xb)(e[0])&&e.length>5){var t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return t.likers.length-e.likers.length}));t.length=4,r(w.p.getTrending(t))}}),[e,r]),(0,i.useMemo)((function(){return(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"logo",children:"Trendings posts this month"}),(0,k.jsx)("br",{}),(0,k.jsxs)("div",{className:"stories",children:[!(0,v.xb)(n[0])&&4===n.length&&n.map((function(e){return(0,k.jsxs)("div",{className:"story",children:[(0,k.jsx)("div",{className:"profile-picture",children:(0,k.jsx)(p.Z,{src:!(0,v.xb)(t[0])&&t.map((function(t){return t._id===e.posterId?t.picture:null})).join(""),alt:"ss"})}),(0,k.jsxs)(l.rU,{to:"/trendings",children:[e.picture&&(0,k.jsx)("img",{src:e.picture,alt:"aa"}),e.video&&(0,k.jsx)("iframe",{width:"100",height:"250",src:e.video,title:Math.random()}),(0,v.xb)(e.picture)&&(0,v.xb)(e.video)&&(0,k.jsx)(b.Z,{type:"trending",text:e.message,color:e.color})]}),(0,k.jsx)("p",{className:"name",children:!(0,v.xb)(t[0])&&t.map((function(t){return t._id===e.posterId?t.pseudo:null})).join("")})]},Math.random())})),e.length<6&&(0,k.jsx)("h1",{children:"No tredings posts in this mounth"})]})]})}),[n,t])},L=(0,i.memo)(N),Z=n(1413),E=n(2602),S=n(7120),C=new Map;C.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),C.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",opacity:"0.2"}),i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),C.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M176,92v96a16,16,0,0,1-16,16H48A40,40,0,0,1,8,164V68A16,16,0,0,1,24,52H136A40,40,0,0,1,176,92Zm68-18.9a7.7,7.7,0,0,0-8,0L196,95.9a8,8,0,0,0-4,7v50.2a8,8,0,0,0,4,7l40,22.8a8.3,8.3,0,0,0,4,1.1,8,8,0,0,0,4-1.1,7.8,7.8,0,0,0,4-6.9V80A7.8,7.8,0,0,0,244,73.1Z"}))})),C.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),C.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),C.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var z=function(e,t){return(0,E._)(e,t,C)},M=(0,i.forwardRef)((function(e,t){return i.createElement(S.Z,Object.assign({ref:t},e,{renderPath:z}))}));M.displayName="VideoCamera";var _=M,F=new Map;F.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("circle",{cx:"156",cy:"100",r:"16"}))})),F.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184V56a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8Z",opacity:"0.2"}),i.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("circle",{cx:"156",cy:"100",r:"12"}))})),F.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M168,100h0a12,12,0,0,1-12,12,12,12,0,0,1-12-12,12,12,0,0,1,24,0Zm64-44V184h0v16a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V168h0V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,164.7V56H40v92.7L76.7,112a16.1,16.1,0,0,1,22.6,0L144,156.7,164.7,136a16.1,16.1,0,0,1,22.6,0Z"}))})),F.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("circle",{cx:"156",cy:"100",r:"10"}))})),F.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("circle",{cx:"156",cy:"100",r:"8"}))})),F.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("circle",{cx:"156",cy:"100",r:"12"}))}));var P=function(e,t){return(0,E._)(e,t,F)},A=(0,i.forwardRef)((function(e,t){return i.createElement(S.Z,Object.assign({ref:t},e,{renderPath:P}))}));A.displayName="Image";var I=A,W=new Map;W.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"164 128 108 92 108 164 164 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),W.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M226.6,71.8A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128s3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2S228.9,80.8,226.6,71.8ZM112,160V96l48,32Z",opacity:"0.2"}),i.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),W.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M234.3,69.8a23.5,23.5,0,0,0-14.5-16.3C185.6,40.3,131,40.4,128,40.4s-57.6-.1-91.8,13.1A23.5,23.5,0,0,0,21.7,69.8C19.1,79.7,16,97.9,16,128s3.1,48.3,5.7,58.2a23.5,23.5,0,0,0,14.5,16.3c32.8,12.7,84.2,13.1,91.1,13.1h1.4c6.9,0,58.3-.4,91.1-13.1a23.5,23.5,0,0,0,14.5-16.3c2.6-9.9,5.7-28.1,5.7-58.2S236.9,79.7,234.3,69.8Zm-72.1,61.5-48,32a3.6,3.6,0,0,1-2.2.7,4.5,4.5,0,0,1-1.9-.5A3.9,3.9,0,0,1,108,160V96a3.9,3.9,0,0,1,2.1-3.5,4,4,0,0,1,4.1.2l48,32a3.9,3.9,0,0,1,0,6.6Z"}))})),W.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),W.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),W.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var H=function(e,t){return(0,E._)(e,t,W)},O=(0,i.forwardRef)((function(e,t){return i.createElement(S.Z,Object.assign({ref:t},e,{renderPath:H}))}));O.displayName="YoutubeLogo";var R=O,T=n(2948),q=n(3466),U=n.n(q),J=n(774),B=n(5273),D=n(6151),V=n(3543),G=n(3400),Q=n(9658),Y=i.forwardRef((function(e,t){return(0,k.jsx)(Q.Z,(0,Z.Z)({elevation:6,ref:t,variant:"filled"},e))})),$=function(e){var t=e.user,n=e.socket,s=(0,i.useContext)(m.i),c=(0,i.useState)(!0),l=(0,r.Z)(c,2),u=l[0],x=l[1],j=(0,i.useState)(""),y=(0,r.Z)(j,2),w=y[0],N=y[1],L=(0,i.useState)(null),Z=(0,r.Z)(L,2),E=Z[0],S=Z[1],C=(0,i.useState)(""),z=(0,r.Z)(C,2),M=z[0],F=z[1],P=(0,i.useState)(""),A=(0,r.Z)(P,2),W=A[0],H=A[1],O=(0,i.useState)(!1),q=(0,r.Z)(O,2),Q=q[0],$=q[1],X=(0,d.I0)(),K=(0,i.useState)(0),ee=(0,r.Z)(K,2),te=ee[0],ne=ee[1],re=(0,i.useState)(),ie=(0,r.Z)(re,2),se=ie[0],oe=ie[1],ae=(0,i.useState)(),ce=(0,r.Z)(ae,2),le=ce[0],ue=ce[1],de=(0,i.useState)(!1),he=(0,r.Z)(de,2),fe=he[0],me=he[1],pe=function(e){new Promise((function(t){U().imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},ge=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return S(URL.createObjectURL(t.target.files[0])),e.prev=2,n=t.target.files[0],e.next=6,pe(n);case 6:r=e.sent,console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:F(""),H(t.target.files[0]);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){s&&x(!1),function(){for(var e=w.split(" "),t=0;t<e.length;t++)if(e[t].includes("https://www.youtube.com")||e[t].includes("https://youtube.com")){var n=e[t].replace("watch?v=","embed/");F(n.split("&")[0]),e.splice(t,1),N(e.join(" ")),S("")}else if(e[t].includes("https://youtu.be/")){var r=e[t].replace("youtu.be/","www.youtube.com/embed/");F(r),e.splice(t,1),N(e.join(" ")),S("")}}()}),[s,w,M]);var ve=function(){N(""),F(""),S(""),H()},xe=function(e,t){"clickaway"!==t&&$(!1)},je=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(D.Z,{color:"secondary",size:"small",onClick:xe,children:"UNDO"}),(0,k.jsx)(G.Z,{size:"small","aria-label":"close",color:"inherit",onClick:xe})]}),ke=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(w||W||M)){e.next=14;break}return H(),i=new FormData,me(!1),i.append("file",W),i.append("posterId",s),i.append("message",w),i.append("video",M),i.append("color",le||"radial-gradient(circle, #5c0067 0%, #00d4ff 100%)"),e.next=12,(0,g.Z)({method:"post",url:"".concat(f.L,"/api/post/"),withCredentials:!0,data:i,onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);ne(t)}}).then((function(e){e.data;ve();var r=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Z)({method:"GET",url:f.L+"/api/post/",withCredentials:!0}).then((function(e){var r=e.data,i=r.slice(0,5);if(X(h.J.fetchAllPosts(i)),console.log("fetch again from create post"),ne(0),n.emit("NewPost",{data:r}),0!==t.followers.length)for(var s=0;s<t.followers.length;s++)(0,g.Z)({method:"patch",url:"".concat(f.L,"/api/post/notification/").concat(t.followers[s]),data:{notifieId:t._id,notifiePseudo:t.pseudo,notification:"post a new post",status:"pending",pictureNotifie:t.picture},withCredentials:!0}).then((function(e){var r=e.data;n.emit("sendNotification",{senderName:t._id,resverName:r._id,timeNot:new Date})})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()})).catch((function(e){return console.log(e)}));case 12:e.next=15;break;case 14:$(!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ye(e){var t=e.progress;return t?(0,k.jsx)("div",{className:"progress-bar",children:t&&(0,k.jsx)(J.Z,{direction:"column",style:{backgroundColor:"var(--color-light)",padding:8,width:"100%",display:"flex",color:"var(--color-name)",flexDirection:"column"},children:(0,k.jsx)(B.Z,{percent:t,style:{display:"flex",flexDirection:"row",color:"white"}})})}):""}return(0,i.useEffect)((function(){!function(){for(var e=[],t=0;t<50;t++){var n=["yellow","white","gray","gold","blue","silver","turquoise","cyan","brown","pink","purple","green"],r="linear-gradient(to bottom right, rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+"), "+n[Math.floor(Math.random()*n.length)]+")";e.push(r)}oe(e)}()}),[]),(0,i.useEffect)((function(){document.querySelectorAll(".colorPallete span").forEach((function(e){e.addEventListener("click",(function(e){ue(e.target.id)}))}))})),(0,k.jsxs)("div",{children:[u?(0,k.jsx)("h5",{children:"loading.........."}):(0,k.jsxs)("form",{onSubmit:function(e){return ke(e)},children:[(0,k.jsxs)("div",{className:"create-post",children:[(0,k.jsx)("div",{className:"profile-picturem",children:(0,k.jsx)(p.Z,{src:t.picture,alt:"asa"})}),(0,k.jsx)(T.Z,{id:"create-post",placeholder:"whats something new ",onClick:function(e){return me(!0)}}),(0,k.jsx)("input",{type:"submit",value:"Post",className:"btn btn-primary"})]}),(0,k.jsxs)("div",{className:"vidoe_yt_img",children:[(0,k.jsx)("i",{children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(_,{onClick:function(){return me(!0)}})})}),(0,k.jsx)("span",{children:"video"}),(0,k.jsx)("i",{className:"fileSelecter",children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(I,{onClick:function(){return me(!0)}})})}),(0,k.jsx)("span",{children:"picture"}),(0,k.jsx)("i",{children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(R,{onClick:function(){return me(!0)}})})}),(0,k.jsx)("span",{children:"youtube"})]}),(0,k.jsx)(ye,{progress:te})]}),fe&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"popupCreatePost",children:[(0,k.jsx)("div",{className:"cancelPost",onClick:function(){N(""),F(""),S(""),me(!1),H()},children:(0,k.jsx)("i",{className:"ri-close-fill"})}),(0,k.jsxs)("div",{className:"mainPost",children:[(0,k.jsxs)("div",{className:"middleMain",children:[(0,k.jsxs)("div",{className:"postLookLike",children:[(0,k.jsx)("p",{children:"Previsualization"}),!w&&!E&&!M&&(0,k.jsx)("div",{className:"Previsualization",children:"once your start creating post here will show your how post will look"}),(0,k.jsxs)(k.Fragment,{children:[(w||E||M)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"feeds",children:(0,k.jsxs)("div",{className:"feed",children:[(0,k.jsxs)("div",{className:"head",children:[(0,k.jsxs)("div",{className:"user",children:[(0,k.jsx)("div",{className:"profile-picture",children:(0,k.jsx)(p.Z,{src:t.picture,alt:t.pseudo})}),(0,k.jsxs)("div",{className:"ingo",children:[(0,k.jsx)("span",{children:(0,k.jsx)("h4",{children:t.pseudo})}),(0,k.jsx)("small",{children:(0,v.RX)(Date.now())})]})]}),(0,k.jsx)("span",{className:"edit "})]}),!M&&!E&&(0,k.jsx)("div",{className:"news ",children:(0,k.jsx)(b.Z,{type:"posts",text:w,color:le})}),(M||E)&&(0,k.jsx)("div",{className:"news ",children:(0,k.jsx)("b",{children:w})}),M&&(0,k.jsx)("div",{className:"photo ",children:(0,k.jsx)("iframe",{height:"250",width:"400",src:M,title:Math.random()})}),E&&(0,k.jsx)("div",{className:"photo ",children:(0,k.jsx)("img",{src:E,alt:"abc"})})]})})}),(0,k.jsx)(V.Z,{open:Q,autoHideDuration:6e3,onClose:xe,action:je,children:(0,k.jsx)(Y,{onClose:xe,severity:"warning",sx:{width:"100%"},children:"veuillez entrer un message pour poster"})})]})]}),(0,k.jsxs)("div",{className:"outils",children:[(0,k.jsx)("p",{children:"Creating post"}),!w&&!E&&!M&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"choose",children:(0,k.jsxs)("svg",{"aria-label":"Ic\xf4ne pour repr\xe9senter le contenu multim\xe9dia, comme les images ou les vid\xe9os",class:"x1lliihq x1n2onr6",color:"var(--color-name)",fill:"rgb(245, 245, 245)",height:"100",role:"img",viewBox:"0 0 97.6 77.3",width:"100",children:[(0,k.jsx)("title",{children:"Ic\xf4ne pour repr\xe9senter le contenu multim\xe9dia, comme les images ou les vid\xe9os"}),(0,k.jsx)("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z",fill:"currentColor"}),(0,k.jsx)("path",{d:"M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z",fill:"currentColor"}),(0,k.jsx)("path",{d:"M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z",fill:"currentColor"})]})}),(0,k.jsxs)("div",{className:"filechoose",children:[(0,k.jsx)("input",{type:"file",className:"choose-file-toUpload",onChange:function(e){return ge(e)},accept:".jpg,.jpeg,.png",title:"choose your file "})," Choose file in your device"]}),(0,k.jsx)("div",{className:"textchoose",onClick:function(){return N("start writting whats in your mind")},children:" Create text post"})]}),(w||E||M)&&(0,k.jsxs)("div",{className:"inputpost",children:[(0,k.jsx)(T.Z,{placeholder:"something new",onChange:function(e){return N(e.target.value)},value:w}),(0,k.jsx)("div",{className:"ri-fill-media",children:(0,k.jsx)("i",{className:"fileSelecter",children:(0,k.jsxs)("div",{children:[(0,k.jsx)("i",{className:"ri ri-image-fill"}),(0,k.jsx)("input",{type:"file",className:"inputPicture",name:"file",onChange:function(e){return ge(e)},accept:".jpg,.jpeg,.png",title:"choose your file "})]})})})]}),!M&&!E&&w&&(0,k.jsx)("div",{className:"news ",children:(0,k.jsxs)("div",{className:"colorPallete",children:[se&&se.map((function(e,t){return(0,k.jsx)("span",{id:e,style:{backgroundImage:e}},t)})),(0,k.jsx)("span",{children:(0,k.jsx)("input",{type:"color",onChange:function(e){return console.log(e)},className:"colorPallete-secondary"})})]})}),E||w||M.length>20?(0,k.jsx)("button",{className:"btn-new",onClick:ve,children:"annuler"}):null,M?(0,k.jsx)("button",{className:"btn-new",onClick:function(){F("")},children:"delete video"}):null,E?(0,k.jsx)("button",{className:"btn-new",onClick:function(){S(""),H()},children:"delete picture"}):null]})]}),(0,k.jsx)("div",{className:"partager",children:(0,k.jsx)("button",{className:"btn btn-primary",onClick:ke,children:"partager"})})]})]})})]})},X=(0,i.memo)($),K=n(8169),ee=n(3821),te=function(e){var t=e.setcustomizeTheme,n=e.user,s=(0,i.useState)(window.innerWidth),o=(0,r.Z)(s,2),a=o[0],c=o[1];return window.addEventListener("resize",(function(){return c(window.innerWidth),function(){return window.removeEventListener("resize",!1)}}),!0),(0,i.useEffect)((function(){a<602&&(document.querySelector("html").style.fontSize="10px",console.log(document.querySelector("html")))}),[a]),(0,i.useEffect)((function(){var e,r,i,s,o,a,c,l=document.querySelector(":root"),u=document.querySelectorAll(".choose-color span"),d=document.querySelectorAll(".choose-size span"),h=document.querySelector(".customize-theme"),f=document.querySelector(".bg-1"),m=document.querySelector(".bg-2"),p=document.querySelector(".bg-3"),g=JSON.parse(localStorage.getItem("".concat(n._id)));h.addEventListener("click",(function(e){e.target.classList.contains("customize-theme")&&t(!1)}));function v(){l.style.setProperty("--light-color-lightness",i),l.style.setProperty("--white-color-lightness",o),l.style.setProperty("--dark-color-lightness",s),l.style.setProperty("--color-name-lightness",c),l.style.setProperty("--black-color-lightness",a);var e=JSON.parse(localStorage.getItem("".concat(n._id)));localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},e),{},{lightcolorlightness:i,whitecolorlightness:o,darkcolorlightness:s,colornamelightness:c,blackcolorlightness:a})))}d.forEach((function(e){e.addEventListener("click",(function(){d.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),e.classList.contains("font-size-1")&&(r="10px",l.style.setProperty("--stick-top-left","5.4rem"),l.style.setProperty("--stick-top-right","5.4rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{font_size:r})))),e.classList.contains("font-size-2")&&(r="13px",l.style.setProperty("--stick-top-left","5.4rem"),l.style.setProperty("--stick-top-right","-7rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{font_size:r})))),e.classList.contains("font-size-3")&&(r="16px",l.style.setProperty("--stick-top-left","5.4rem"),l.style.setProperty("--stick-top-right","-10rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{font_size:r})))),e.classList.contains("font-size-4")&&(r="19px",l.style.setProperty("--stick-top-left","-5rem"),l.style.setProperty("--stick-top-right","-25rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{font_size:r})))),e.classList.contains("font-size-5")&&(r="22px",l.style.setProperty("--stick-top-left","-10rem"),l.style.setProperty("--stick-top-right","-30rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{font_size:r})))),document.querySelector("html").style.fontSize=r}))})),u.forEach((function(t){t.addEventListener("click",(function(){u.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),t.classList.contains("color-1")&&(e=252,localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{primaryHue:e})))),t.classList.contains("color-2")&&(e=52,localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{primaryHue:e})))),t.classList.contains("color-3")&&(e=352,localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{primaryHue:e})))),t.classList.contains("color-4")&&(e=152,localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{primaryHue:e})))),t.classList.contains("color-5")&&(e=202,localStorage.setItem("".concat(n._id),JSON.stringify((0,Z.Z)((0,Z.Z)({},g),{},{primaryHue:e})))),l.style.setProperty("--color-primary-hue",e)}))})),f.addEventListener("click",(function(){s="17%",o="100%",i="95%",c="0%",a="100%",f.classList.add("active"),m.classList.remove("active"),p.classList.remove("active"),v()})),m.addEventListener("click",(function(){s="95%",o="20%",i="15%",a="10%",c="80%",m.classList.add("active"),f.classList.remove("active"),p.classList.remove("active"),v()})),p.addEventListener("click",(function(){s="0%",o="10%",i="0%",a="10%",c="100%",p.classList.add("active"),f.classList.remove("active"),m.classList.remove("active"),v()}));d.forEach((function(e){"10px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-1")&&e.classList.add("active"),"13px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-2")&&e.classList.add("active"),"16px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-3")&&e.classList.add("active"),"19px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-4")&&e.classList.add("active"),"22px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-5")&&e.classList.add("active")}))})),(0,k.jsx)("div",{children:(0,k.jsx)("div",{className:"customize-theme",children:(0,k.jsxs)("div",{className:"card",children:[(0,k.jsx)("h2",{className:"custom",children:"Customize your view"}),(0,k.jsx)("p",{className:"text-muted",children:"Manage your color,backaground and font size"}),(0,k.jsxs)("div",{className:"font-size",children:[(0,k.jsx)("h4",{className:"custom",children:"Font Size"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h6",{className:"custom",children:"Aa"}),(0,k.jsxs)("div",{className:"choose-size",children:[(0,k.jsx)("span",{className:"font-size-1"}),(0,k.jsx)("span",{className:"font-size-2 "}),(0,k.jsx)("span",{className:"font-size-3"}),(0,k.jsx)("span",{className:"font-size-4"}),(0,k.jsx)("span",{className:"font-size-5"})]}),(0,k.jsx)("h3",{className:"custom",children:"Aa"})]})]}),(0,k.jsxs)("div",{className:"color",children:[(0,k.jsx)("h4",{className:"custom",children:"Color"}),(0,k.jsxs)("div",{className:"choose-color",children:[(0,k.jsx)("span",{className:"color-1 active"}),(0,k.jsx)("span",{className:"color-2"}),(0,k.jsx)("span",{className:"color-3"}),(0,k.jsx)("span",{className:"color-4"}),(0,k.jsx)("span",{className:"color-5"})]})]}),(0,k.jsxs)("div",{className:"background",children:[(0,k.jsx)("h4",{className:"custom",children:"backaground"}),(0,k.jsxs)("div",{className:"choose-bg",children:[(0,k.jsxs)("div",{className:"bg-1 active",children:[(0,k.jsx)("span",{}),(0,k.jsx)("h5",{htmlFor:"bg-1",children:"Light "})]}),(0,k.jsxs)("div",{className:"bg-2",children:[(0,k.jsx)("span",{}),(0,k.jsx)("h5",{htmlFor:"bg-2",children:"Dim"})]}),(0,k.jsxs)("div",{className:"bg-3",children:[(0,k.jsx)("span",{}),(0,k.jsx)("h5",{htmlFor:"bg-3",children:"Lights out"})]})]})]})]})})})},ne=n(6816),re=function(){return(0,k.jsxs)("div",{className:"popup",children:[(0,k.jsx)("div",{className:"icon",children:(0,k.jsx)("i",{className:"ri-wifi-off-line"})}),(0,k.jsxs)("div",{className:"details",children:[(0,k.jsx)("h2",{className:"title",children:"Lost connection"}),(0,k.jsx)("p",{className:"decs",children:"your network is unavaible we will attempt to reconnect after 6 secondes"}),(0,k.jsx)("button",{className:"reconnect",children:"reconnect now"})]})]})},ie=i.memo(re),se=function(e){var t=e.socket,n=(0,i.useState)(!1),o=(0,r.Z)(n,2),a=o[0],c=o[1],l=(0,d.v9)((function(e){return e.userInfo})),u=(0,d.v9)((function(e){return e.getusers})),h=(0,i.useContext)(m.i),f=(0,d.I0)(),p=(0,i.useRef)(),g=(0,i.useRef)(),x=(0,i.useRef)();(0,i.useEffect)((function(){}),[]);var j=(0,i.useCallback)((function(){p.current.classList.toggle("openedLeft"),g.current.classList.toggle("opened")}),[]),w=(0,i.useCallback)((function(e){x.current.style.top="".concat(e.y-25,"px"),x.current.style.left="".concat(e.x-25,"px")}),[]);return(0,i.useEffect)((function(){var e;null===(e=x.current)||void 0===e||e.addEventListener("mousedown",(function(){document.addEventListener("mousemove",w)})),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",w)}))}),[]),(0,i.useEffect)((function(){f(ne.c.GetAll((0,v.ge)(u,(0,v.uI)(h,u))))})),(0,i.useEffect)((function(){t&&l&&l.pseudo&&t.emit("newuser",l._id),"no token"===h&&(window.location="/login")}),[t,l.pseudo,l,h]),(0,i.useEffect)((function(){var e=document.querySelectorAll(".menu-item ");e.forEach((function(t){t.addEventListener("click",(function(){e.forEach((function(e){e.classList.remove("active")})),t.classList.add("active")}))}));var t=document.querySelector(":root"),n=JSON.parse(localStorage.getItem("".concat(l._id)));n&&(n.primaryHue&&t.style.setProperty("--color-primary-hue",n.primaryHue),n.font_size&&(document.querySelector("html").style.fontSize=n.font_size),n.lightcolorlightness&&t.style.setProperty("--light-color-lightness",n.lightcolorlightness),n.whitecolorlightness&&t.style.setProperty("--white-color-lightness",n.whitecolorlightness),n.darkcolorlightness&&t.style.setProperty("--dark-color-lightness",n.darkcolorlightness),n.colornamelightness&&t.style.setProperty("--color-name-lightness",n.colornamelightness))})),(0,k.jsx)(k.Fragment,{children:"no token"!==h&&null!==h&&(0,k.jsxs)(s.Z,{title:"Home",children:[(0,k.jsxs)("main",{children:[(0,k.jsx)(ie,{}),(0,k.jsx)("div",{className:"messenger-hint",onClick:j,ref:x,children:(0,k.jsx)("span",{children:(0,k.jsx)("i",{className:"ri-mail-line",children:(0,k.jsx)("small",{className:"notifications-count",children:"5"})})})}),(0,k.jsxs)("div",{className:"container",children:[(0,k.jsx)(y,{user:l,setcustomizeTheme:c,socket:t,leftcontainer:p,leftcontainerModal:g,hideshowModal:j}),(0,k.jsxs)("div",{className:"middle",children:[(0,k.jsx)(L,{}),(0,k.jsx)(X,{user:l,socket:t}),(0,k.jsx)(K.default,{socket:t,type:"home"})]}),(0,k.jsx)(ee.Z,{user:l})]})]}),a&&(0,k.jsx)(te,{setcustomizeTheme:c,user:l})]})})}},7120:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2602);function s(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var o=(0,r.forwardRef)((function(e,t){var n=e.alt,o=e.color,a=e.size,c=e.weight,l=e.mirrored,u=e.children,d=e.renderPath,h=s(e,["alt","color","size","weight","mirrored","children","renderPath"]),f=(0,r.useContext)(i.P),m=f.color,p=void 0===m?"currentColor":m,g=f.size,v=f.weight,x=void 0===v?"regular":v,j=f.mirrored,k=void 0!==j&&j,y=s(f,["color","size","weight","mirrored"]);return r.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=a?a:g,height:null!=a?a:g,fill:null!=o?o:p,viewBox:"0 0 256 256",transform:l||k?"scale(-1, 1)":void 0},y,h),!!n&&r.createElement("title",null,n),u,r.createElement("rect",{width:"256",height:"256",fill:"none"}),d(null!=c?c:x,null!=o?o:p))}));o.displayName="IconBase";var a=o},2602:function(e,t,n){"use strict";n.d(t,{P:function(){return r},_:function(){return i}});var r=(0,n(2791).createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),i=function(e,t,n){var r=n.get(e);return r?r(t):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)}},3466:function(e){!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:function(){return i}});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return t=[{key:"changeHeightWidth",value:function(e,t,n,r,i,s){return n>r&&(e=Math.round(e*r/n),n=r),e>t&&(n=Math.round(n*t/e),e=t),i&&n<i&&(e=Math.round(e*i/n),n=i),s&&e<s&&(n=Math.round(n*s/e),e=s),{height:e,width:n}}},{key:"resizeAndRotateImage",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,a=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:100)/100,c=document.createElement("canvas"),l=e.width,u=e.height,d=this.changeHeightWidth(u,n,l,t,r,i);!o||90!==o&&270!==o?(c.width=d.width,c.height=d.height):(c.width=d.height,c.height=d.width),l=d.width,u=d.height;var h=c.getContext("2d");return h.fillStyle="rgba(0, 0, 0, 0)",h.fillRect(0,0,l,u),h.imageSmoothingEnabled&&h.imageSmoothingQuality&&(h.imageSmoothingQuality="high"),o&&(h.rotate(o*Math.PI/180),90===o?h.translate(0,-c.width):180===o?h.translate(-c.width,-c.height):270===o?h.translate(-c.height,0):0!==o&&360!==o||h.translate(0,0)),h.drawImage(e,0,0,l,u),c.toDataURL("image/".concat(s),a)}},{key:"b64toByteArrays",value:function(e,t){t=t||"image/jpeg";for(var n=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],i=0;i<n.length;i+=512){for(var s=n.slice(i,i+512),o=new Array(s.length),a=0;a<s.length;a++)o[a]=s.charCodeAt(a);var c=new Uint8Array(o);r.push(c)}return r}},{key:"b64toBlob",value:function(e,t){var n=this.b64toByteArrays(e,t);return new Blob(n,{type:t,lastModified:new Date})}},{key:"b64toFile",value:function(e,t,n){var r=this.b64toByteArrays(e,n);return new File(r,t,{type:n,lastModified:new Date})}},{key:"createResizedImage",value:function(t,n,r,i,s,o,a){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=new FileReader;if(!t)throw Error("File Not Found!");if(t.type&&!t.type.includes("image"))throw Error("File Is NOT Image!");d.readAsDataURL(t),d.onload=function(){var h=new Image;h.src=d.result,h.onload=function(){var d=e.resizeAndRotateImage(h,n,r,l,u,i,s,o),f="image/".concat(i);switch(c){case"blob":var m=e.b64toBlob(d,f);a(m);break;case"base64":default:a(d);break;case"file":var p=t.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(i.toString()),g=e.b64toFile(d,p,f);a(g)}}},d.onerror=function(e){throw Error(e)}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}(),i={imageFileResizer:function(e,t,n,i,s,o,a,c,l,u){return r.createResizedImage(e,t,n,i,s,o,a,c,l,u)}};e.exports=n}()},2948:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7462),i=n(3366),s=n(2791),o=s.useLayoutEffect,a=function(e){var t=s.useRef(e);return o((function(){t.current=e})),t},c=function(e,t){"function"!==typeof e?e.current=t:e(t)},l=function(e,t){var n=(0,s.useRef)();return(0,s.useCallback)((function(r){e.current=r,n.current&&c(n.current,null),n.current=t,t&&c(t,r)}),[t])},u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=function(e){Object.keys(u).forEach((function(t){e.style.setProperty(t,u[t],"important")}))},h=null,f=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var m=function(){},p=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],g=!!document.documentElement.currentStyle,v=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,p.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(g&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})};function x(e,t,n){var r=a(n);s.useLayoutEffect((function(){var n=function(e){return r.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}}),[])}var j=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],k=function(e,t){var n=e.cacheMeasurements,o=e.maxRows,a=e.minRows,c=e.onChange,u=void 0===c?m:c,p=e.onHeightChange,g=void 0===p?m:p,k=(0,i.Z)(e,j),y=void 0!==k.value,w=s.useRef(null),b=l(w,t),N=s.useRef(0),L=s.useRef(),Z=function(){var e=w.current,t=n&&L.current?L.current:v(e);if(t){L.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),h||((h=document.createElement("textarea")).setAttribute("tabindex","-1"),h.setAttribute("aria-hidden","true"),d(h)),null===h.parentNode&&document.body.appendChild(h);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;h.style[t]=o[t]})),d(h),h.value=t;var c=f(h,e);h.value=t,c=f(h,e),h.value="x";var l=h.scrollHeight-i,u=l*n;"border-box"===a&&(u=u+i+s),c=Math.max(u,c);var m=l*r;return"border-box"===a&&(m=m+i+s),[c=Math.min(m,c),l]}(t,e.value||e.placeholder||"x",a,o),i=r[0],s=r[1];N.current!==i&&(N.current=i,e.style.setProperty("height",i+"px","important"),g(i,{rowHeight:s}))}};return s.useLayoutEffect(Z),x(window,"resize",Z),function(e){x(document.fonts,"loadingdone",e)}(Z),s.createElement("textarea",(0,r.Z)({},k,{onChange:function(e){y||Z(),u(e)},ref:b}))},y=s.forwardRef(k)}}]);
//# sourceMappingURL=966.cce94f99.chunk.js.map