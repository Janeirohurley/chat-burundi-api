/*! For license information please see 657.2d62c73d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkupdate_chat_burundi=self.webpackChunkupdate_chat_burundi||[]).push([[657],{367:function(e,t,n){n(2791);var r=n(184);t.Z=function(e){return document.title="Chat Burundi - "+e.title,(0,r.jsx)("div",{className:"w-100",children:e.children})}},2657:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(4165),s=n(5861),o=n(4942),a=n(1413),i=n(9439),c=n(2791),u=n(8329),d=n(367),l="styles_container_signup__lUPAv",p="styles_signup_form_container__dSvJw",m="styles_left__bhVDC",h="styles_right__LmyOv",f="styles_form_container__7nShI",w="styles_input__9PJxg",x="styles_error_msg__hIxyp",v="styles_checkbox__tA3fR",g="styles_green_btn__mprLP",_="styles_white_button__M22lK",j=n(1087),C=n(1034),y=n(1243),b=n(9860),k=n(4212),Z=n(184),N=function(){var e=(0,c.useState)({pseudo:"",password:"",email:"",confirmnewpassword:""}),t=(0,i.Z)(e,2),n=t[0],N=t[1],S=(0,c.useState)(""),U=(0,i.Z)(S,2),I=U[0],T=U[1],R=(0,c.useState)(!1),A=(0,i.Z)(R,2),B=A[0],D=A[1],q=(0,c.useState)(!1),F=(0,i.Z)(q,2),E=F[0],L=F[1],O=function(e){var t=e.currentTarget;N((0,a.Z)((0,a.Z)({},n),{},(0,o.Z)({},t.name,t.value)))},P=function(e){"checked"===e?D(!0):"notchecked"===e&&D(!1)};return(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Z)({method:"get",url:"".concat(k.L,"/api/user/logout"),withCredentials:!0}).then((function(){var e;e="jwt","undefined"!==window&&u.Z.remove(e,{expires:1}),localStorage.removeItem("token")})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,Z.jsx)(d.Z,{title:"Signup",children:(0,Z.jsx)("div",{className:l,children:(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("h1",{children:"Welcome Back"}),(0,Z.jsx)(j.rU,{to:"/login",children:(0,Z.jsx)("button",{className:_,children:"Sign in"})})]}),(0,Z.jsx)("div",{className:h,children:(0,Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L(!0),n.password!==n.confirmnewpassword&&(T("password are not equal"),L(!1),setTimeout((function(){T("")}),5e3)),n.password===n.confirmnewpassword&&(0,y.Z)({method:"post",url:"".concat(k.L,"/api/user/register"),withCredentials:!0,data:n}).then((function(e){console.log(e),e.data.errors&&(L(!1),e.data.errors.pseudo&&(T(e.data.errors.pseudo),console.log(e.data.errors.pseudo),setTimeout((function(){T("")}),5e3)),e.data.errors.email&&(T(e.data.errors.email),setTimeout((function(){T("")}),5e3)),e.data.errors.password&&(T(e.data.errors.password),setTimeout((function(){T("")}),5e3)),e.data.errors.message&&(T(e.data.errors.message),setTimeout((function(){T("")}),5e3))),e.data.errors||setTimeout((function(){document.title="Redirecting.....",window.location="/login"}),5e3)})).catch((function(e){L(!1),T(e.message)}))},className:f,children:[(0,Z.jsx)("h1",{children:"Create Account"}),(0,Z.jsx)("input",{type:"text",placeholder:"User name",name:"pseudo",value:n.pseudo,required:!0,className:w,onChange:O}),(0,Z.jsx)("input",{type:"email",placeholder:"Enter your email",name:"email",value:n.email,required:!0,className:w,onChange:O}),(0,Z.jsx)("input",{type:B?"text":"password",placeholder:"Create password",name:"password",value:n.password,required:!0,className:w,onChange:O}),(0,Z.jsx)("input",{type:B?"text":"password",placeholder:"Confirm your new password",name:"confirmnewpassword",value:n.confirmnewpassword,required:!0,className:w,onChange:O}),(0,Z.jsx)("div",{className:v,children:B?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(C.Z,{checked:!0,onClick:function(){return P("notchecked")}}),(0,Z.jsx)("p",{children:"hide password"})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(C.Z,{onClick:function(){return P("checked")}}),(0,Z.jsx)("p",{children:"show password"})]})}),I&&(0,Z.jsx)("div",{className:x,children:I}),(0,Z.jsx)("button",{type:"submit",className:g,children:(0,Z.jsx)(b.Z,{loading:E,sx:{padding:"0px",height:"10px",color:"white",textTransform:"lowercase"},children:"Sign up"})})]})})]})})})}},8329:function(e,t){function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var r=function e(t,r){function s(e,s,o){if("undefined"!==typeof document){"number"===typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in o)o[i]&&(a+="; "+i,!0!==o[i]&&(a+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},s=0;s<n.length;s++){var o=n[s].split("="),a=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(r[i]=t.read(a,i),e===i)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});t.Z=r}}]);
//# sourceMappingURL=657.2d62c73d.chunk.js.map