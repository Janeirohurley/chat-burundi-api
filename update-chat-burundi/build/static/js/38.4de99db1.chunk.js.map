{"version":3,"file":"static/js/38.4de99db1.chunk.js","mappings":"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","sources":["commponents/Helmet/Helmet.jsx","pages/Login.jsx","webpack://update-chat-burundi/./src/styles/login.module.css?2735"],"sourcesContent":["import React from \"react\";\r\nconst Helmet = (props) => {\r\n  document.title = \"Chat Burundi - \" + props.title;\r\n  return <div className=\"w-100\">{props.children}</div>;\r\n};\r\nexport default Helmet;\r\n","import React, { useState } from \"react\";\r\nimport Helmet from \"../commponents/Helmet/Helmet\";\r\nimport styles from \"../styles/login.module.css\";\r\nimport { Link} from \"react-router-dom\";\r\nimport { Switch } from \"@mui/material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport axios from \"axios\";\r\nimport { SERVER_URL } from \"../Domain\";\r\nconst Login = () => {\r\n  const [data, setData] = useState({\r\n    pseudo: \"\",\r\n    password: \"\",\r\n  });\r\n  \r\n  const [error, setError] = useState(\"\"); //initializing error\r\n  const [checked, setChecked] = useState(false); //boolean pour un switch de show password et hide password\r\n  const [loading, setloading] = useState(false); //boolean pour le loading de submit button\r\n  const handleChange = ({ currentTarget: input }) => {\r\n    setData({ ...data, [input.name]: input.value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setloading(true);\r\n    axios({\r\n      method: \"post\",\r\n      url: `${SERVER_URL}/api/user/login`,\r\n      withCredentials: true,\r\n      data: data,\r\n    })\r\n      .then((res) => {\r\n\r\n        if (res.data.errors) {\r\n\r\n          //si il y a une erreur\r\n          setloading(false);\r\n          if (res.data.errors.pseudo) {\r\n            //errerur de pseudo\r\n            setError(res.data.errors.pseudo);\r\n            setTimeout(() => {\r\n              setError(\"\");\r\n            }, 5000);\r\n          }\r\n            if (res.data.errors.message) {\r\n            //erreur de password\r\n            setError(res.data.errors.message);\r\n            setTimeout(() => {\r\n              setError(\"\");\r\n            }, 5000);\r\n          }\r\n          if (res.data.errors.password) {\r\n            //erreur de password\r\n            setError(res.data.errors.password);\r\n            setTimeout(() => {\r\n              setError(\"\");\r\n            }, 5000);\r\n          }\r\n        }\r\n        if (!res.data.errors) {\r\n          localStorage.setItem(\"token\", res.data.token);\r\n          document.title = \"Redirecting.....\";\r\n          document.location = \"/\";\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setloading(false);\r\n        setError(err.message);\r\n      });\r\n  };\r\n  const showpassword = (control) => {\r\n    if (control === \"checked\") {\r\n      setChecked(true);\r\n    } else if (control === \"notchecked\") {\r\n      setChecked(false);\r\n    }\r\n  };\r\n  return (\r\n    <Helmet title={\"Login\"}>\r\n      <div className={styles.container_login}>\r\n        <div className={styles.login_form_container}>\r\n          <div className={styles.left}>\r\n            <form onSubmit={handleSubmit} className={styles.form_container}>\r\n              <h1>Login to Your Account</h1>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"User name\"\r\n                name=\"pseudo\"\r\n                value={data.pseudo}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                type={checked ? \"text\" : \"password\"}\r\n                placeholder=\"Enter your password\"\r\n                name=\"password\"\r\n                value={data.password}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <div className={styles.checkbox}>\r\n                {checked ? (\r\n                  <>\r\n                    <Switch\r\n                      controlled\r\n                      checked\r\n                      onClick={() => showpassword(\"notchecked\")}\r\n                    />\r\n                    <p>hide password</p>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Switch\r\n                      controlled\r\n                      onClick={() => showpassword(\"checked\")}\r\n                    />\r\n                    <p>show password</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n              {error && <div className={styles.error_msg}>{error}</div>}\r\n              \r\n                <button type=\"submit\" className={styles.green_btn}>\r\n                <LoadingButton loading={loading} sx={\r\n                  { \r\n                    padding: \"0px\",\r\n              height:\"10px\",\r\n              color:\"white\",\r\n              textTransform:\"lowercase\"\r\n            }\r\n\r\n                }>\r\n                  Sign in\r\n                  </LoadingButton>\r\n                </button>\r\n              \r\n            </form>\r\n          </div>\r\n          <div className={styles.right}>\r\n            <h1>New Here ?</h1>\r\n            <Link to=\"/signup\">\r\n              <button className={styles.white_button}>Sign up</button>\r\n            </Link>\r\n            <br />\r\n            <h1>Or</h1>\r\n            <Link to=\"/account-verification\">forget password ??</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Helmet>\r\n  );\r\n};\r\nexport default Login;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container_login\":\"login_container_login__iLnj4\",\"login_form_container\":\"login_login_form_container__+6lt+\",\"left\":\"login_left__EDsY0\",\"form_container\":\"login_form_container__SGM+W\",\"input\":\"login_input__BV7y9\",\"error_msg\":\"login_error_msg__JaY1K\",\"success_msg\":\"login_success_msg__VvfNr\",\"checkbox\":\"login_checkbox__lLEDJ\",\"right\":\"login_right__x9Z1V\",\"green_btn\":\"login_green_btn__roMoI\",\"white_button\":\"login_white_button__wPgJ3\"};"],"names":["props","document","title","_jsx","className","children","_useState","useState","pseudo","password","_useState2","_slicedToArray","data","setData","_useState3","_useState4","error","setError","_useState5","_useState6","checked","setChecked","_useState7","_useState8","loading","setloading","handleChange","_ref","input","currentTarget","_objectSpread","_defineProperty","name","value","showpassword","control","Helmet","styles","_jsxs","onSubmit","e","preventDefault","axios","method","url","concat","SERVER_URL","withCredentials","then","res","errors","setTimeout","message","localStorage","setItem","token","location","catch","err","type","placeholder","required","onChange","_Fragment","Switch","controlled","onClick","LoadingButton","sx","padding","height","color","textTransform","Link","to"],"sourceRoot":""}