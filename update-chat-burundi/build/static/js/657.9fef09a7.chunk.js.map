{"version":3,"file":"static/js/657.9fef09a7.chunk.js","mappings":"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","sources":["commponents/Helmet/Helmet.jsx","webpack://update-chat-burundi/./src/styles/styles.module.css?2744","pages/Signup.jsx"],"sourcesContent":["import React from \"react\";\r\nconst Helmet = (props) => {\r\n  document.title = \"Chat Burundi - \" + props.title;\r\n  return <div className=\"w-100\">{props.children}</div>;\r\n};\r\nexport default Helmet;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container_signup\":\"styles_container_signup__lUPAv\",\"signup_form_container\":\"styles_signup_form_container__dSvJw\",\"left\":\"styles_left__bhVDC\",\"right\":\"styles_right__LmyOv\",\"form_container\":\"styles_form_container__7nShI\",\"input\":\"styles_input__9PJxg\",\"error_msg\":\"styles_error_msg__hIxyp\",\"success_msg\":\"styles_success_msg__hx78U\",\"checkbox\":\"styles_checkbox__tA3fR\",\"green_btn\":\"styles_green_btn__mprLP\",\"white_button\":\"styles_white_button__M22lK\"};","import React, { useState } from \"react\";\r\nimport Helmet from \"../commponents/Helmet/Helmet\";\r\nimport styles from \"../styles/styles.module.css\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { Switch } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { SERVER_URL } from \"../Domain\";\r\nconst Signup = () => {\r\n  const [data, setData] = useState({\r\n    pseudo: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    confirmnewpassword: \"\"\r\n\r\n  })\r\n  const [error, setError] = useState(\"\")\r\n  const [checked, setChecked] = useState(false)\r\n  const [loading, setloading] = useState(false)//boolean pour le loading de submit button\r\n  const handleChange = ({ currentTarget: input }) => {\r\n    setData({ ...data, [input.name]: input.value })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    setloading(true)\r\n    if (data.password !== data.confirmnewpassword) {\r\n      setError(\"password are not equal\")\r\n      setTimeout(() => {\r\n        setError(\"\")\r\n      }, 5000)\r\n    }\r\n    if (data.password === data.confirmnewpassword) {\r\n      axios({\r\n        method: \"post\",\r\n        url: `${SERVER_URL}/api/user/register`,\r\n        withCredentials: true,\r\n        data: data,\r\n      })\r\n        .then((res) => {\r\n          if(res.data.errors){\r\n            setloading(false)\r\n          if (res.data.errors.pseudo) {\r\n            setError(res.data.errors.pseudo);\r\n            console.log(res.data.errors.pseudo);\r\n            setTimeout(() => {\r\n              setError(\"\")\r\n          }, 5000)\r\n          }\r\n          if (res.data.errors.email) {\r\n            setError(res.data.errors.email);\r\n            setTimeout(() => {\r\n              setError(\"\")\r\n          }, 5000)\r\n           }\r\n          if (res.data.errors.password) {\r\n            setError(res.data.errors.password);\r\n            setTimeout(() => {\r\n              setError(\"\")\r\n          }, 5000)\r\n          }\r\n            if (res.data.errors.message) {\r\n            setError(res.data.errors.message);\r\n            setTimeout(() => {\r\n              setError(\"\")\r\n          }, 5000)\r\n          }\r\n        }\r\n          if (!res.data.errors) {\r\n            setTimeout(() => {\r\n              document.title=\"Redirecting.....\"\r\n              window.location = \"/login\"\r\n          }, 5000)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setloading(false)\r\n          setError(err.message)\r\n        });\r\n    }\r\n  }\r\n  const showpassword = (control) => {\r\n    if (control === \"checked\") {\r\n      setChecked(true)\r\n    } else if (control === \"notchecked\") {\r\n      setChecked(false)\r\n    }\r\n  };\r\n  return (\r\n    <Helmet title={\"Signup\"}>\r\n      <div className={styles.container_signup}>\r\n        <div className={styles.signup_form_container}>\r\n          <div className={styles.left}>\r\n            <h1>Welcome Back</h1>\r\n            <Link to=\"/login\">\r\n              <button className={styles.white_button}>Sign in</button>\r\n            </Link>\r\n          </div>\r\n          <div className={styles.right}>\r\n            <form onSubmit={handleSubmit} className={styles.form_container}>\r\n              <h1>Create Account</h1>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"User name\"\r\n                name=\"pseudo\"\r\n                value={data.pseudo}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                name=\"email\"\r\n                value={data.email}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                type={checked ? \"text\" : \"password\"}\r\n                placeholder=\"Create password\"\r\n                name=\"password\"\r\n                value={data.password}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <input\r\n                type={checked ? \"text\" : \"password\"}\r\n                placeholder=\"Confirm your new password\"\r\n                name=\"confirmnewpassword\"\r\n                value={data.confirmnewpassword}\r\n                required\r\n                className={styles.input}\r\n                onChange={handleChange}\r\n              />\r\n              <div className={styles.checkbox}>\r\n                {\r\n                  checked ?\r\n                    <><Switch checked onClick={() => showpassword(\"notchecked\")} /><p>hide password</p></>\r\n                    :\r\n                    <><Switch onClick={() => showpassword(\"checked\")} /><p>show password</p></>\r\n                }\r\n              </div>\r\n              {\r\n                error && <div className={styles.error_msg}>{error}</div>\r\n              }\r\n              \r\n              <button type=\"submit\" className={styles.green_btn}>\r\n              <LoadingButton loading={loading}  sx={\r\n               { padding: \"0px\",\r\n              height:\"10px\",\r\n              color:\"white\",\r\n              textTransform:\"lowercase\"}}>\r\n              Sign up\r\n              </LoadingButton>\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Helmet >\r\n  );\r\n};\r\nexport default Signup;"],"names":["props","document","title","_jsx","className","children","_useState","useState","pseudo","password","email","confirmnewpassword","_useState2","_slicedToArray","data","setData","_useState3","_useState4","error","setError","_useState5","_useState6","checked","setChecked","_useState7","_useState8","loading","setloading","handleChange","_ref","input","currentTarget","_objectSpread","_defineProperty","name","value","showpassword","control","Helmet","styles","_jsxs","Link","to","onSubmit","e","preventDefault","setTimeout","axios","method","url","concat","SERVER_URL","withCredentials","then","res","errors","console","log","message","window","location","catch","err","type","placeholder","required","onChange","_Fragment","Switch","onClick","LoadingButton","sx","padding","height","color","textTransform"],"sourceRoot":""}