"use strict";(self.webpackChunkupdate_chat_burundi=self.webpackChunkupdate_chat_burundi||[]).push([[550],{367:function(e,n,t){t(2791);var i=t(184);n.Z=function(e){return document.title="Chat Burundi - "+e.title,(0,i.jsx)("div",{className:"w-100",children:e.children})}},5392:function(e,n,t){t(2791);var i=t(184);n.Z=function(e){var n=e.text,t=e.type,s=e.color;return(0,i.jsxs)("div",{style:{backgroundImage:s||" linear-gradient(to right bottom, rgb(228, 64, 92), purple)"},className:"cardCanvas",children:["trending"===t&&(0,i.jsx)("p",{children:n}),"posts"===t&&(0,i.jsx)("h2",{children:n})]})}},8169:function(e,n,t){var i=t(9439),s=t(4165),r=t(5861),a=t(2791),l=t(1243),o=t(2010),c=t(9434),u=t(1896),d=t(4212),h=t(5194),p=t(184),f=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,3e3)}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=(0,a.lazy)((function(){return f(Promise.all([t.e(463),t.e(706),t.e(429),t.e(752)]).then(t.bind(t,5752)))}));n.Z=function(e){var n=e.socket,t=e.type,f=e.paramsId,m=(e.hisprofile,(0,c.I0)()),v=(0,a.useState)(!0),j=(0,i.Z)(v,2),g=j[0],w=j[1],b=(0,a.useState)(5),Z=(0,i.Z)(b,2),N=Z[0],y=Z[1],k=(0,c.v9)((function(e){return e.posts})),C=(0,c.v9)((function(e){return e.userInfo})),L=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight-50&&w(!0)};return(0,a.useEffect)((function(){if(g){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Z)({method:"GET",url:d.L+"/api/post/",withCredentials:!0}).then((function(e){var n=e.data;console.log("fetch again from posts");for(var t=(0,u.MN)(n,C.following,C._id).slice(0,N),i=0;i<t.length;i++)t[i].comments.reverse();m(o.J.fetchAllPosts(t)),w(!1),y((function(e){return e+5}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[g]),(0,a.useEffect)((function(){return window.addEventListener("scroll",L),function(){return window.removeEventListener("scroll",L)}}),[]),(0,p.jsxs)("div",{className:f?"hisPosts":"feeds",children:["home"===t&&!(0,u.xb)(k[0])&&k.map((function(e){return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(h.Z,{},Math.random()),children:(0,p.jsx)(x,{post:e,count:N,socket:n},e._id)})})),"profile"===t&&!(0,u.xb)(k[0])&&k.map((function(e){return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(h.Z,{},Math.random()),children:e.posterId===C._id&&(0,p.jsx)(x,{post:e,count:N,socket:n},e._id)})})),"hisprofile"===t&&f&&!(0,u.xb)(k[0])&&k.map((function(e){return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(h.Z,{},Math.random()),children:e.posterId===f&&(0,p.jsx)(x,{post:e,count:N,socket:n},e._id)})}))]})}},3821:function(e,n,t){var i=t(9439),s=t(2791),r=t(9434),a=t(7689),l=t(1087),o=t(1896),c=t(1933),u=t(6587),d=t(3044),h=t(184),p=(0,s.memo)((function(){var e=(0,r.v9)((function(e){return e.getusers})),n=(0,r.v9)((function(e){return e.userInfo})),t=(0,s.useState)(!0),p=(0,i.Z)(t,2),f=p[0],x=p[1],m=(0,s.useState)(!0),v=(0,i.Z)(m,2),j=v[0],g=v[1],w=(0,s.useState)([]),b=(0,i.Z)(w,2),Z=b[0],N=b[1],y=(0,s.useState)([]),k=(0,i.Z)(y,2),C=k[0],L=k[1],S=(0,r.v9)((function(e){return e.AllChat})),M=(0,r.v9)((function(e){return e.OnlineUsers})),P=(0,c.g)().setSelectedChat,_=(0,a.s0)();(0,s.useEffect)((function(){if(!(0,o.xb)(S[0])){var e=S.filter((function(e){return e.latestMessage})),n=Object.keys(e).map((function(n){return e[n]})).sort((function(e,n){var t,i;return(null===(t=n.latestMessage)||void 0===t?void 0:t.createdAt)-(null===(i=e.latestMessage)||void 0===i?void 0:i.createdAt)}));n.length=3,L(n)}}),[S]),(0,s.useEffect)((function(){!j||(0,o.xb)(e[0])||(0,o.xb)(n._id)||(!function(){for(var t=[],i=0;i<e.length;i++)e[i]===n._id||e[i].followers.includes(n._id)||t.push(e[i]._id);t.sort((function(){return.5-Math.random()})),window.innerHeight>70&&(t.length=5),N(t)}(),x(!1),g(!1))}),[e,n,j]);return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"right",children:[(0,h.jsx)(h.Fragment,{children:C&&(0,h.jsxs)("div",{className:"messages",children:[(0,h.jsx)("div",{className:"heading",children:(0,h.jsx)("h4",{children:"Latest Messages"})}),C&&C.map((function(e){var t,i,s,r,a;return(0,h.jsxs)("div",{className:"message",onClick:function(){return function(e){P(e),_("/messenger")}(e)},children:[(0,h.jsxs)("div",{className:"profile-picture",children:[(0,h.jsx)(d.Z,{src:null===(t=e.latestMessage)||void 0===t?void 0:t.sender.picture,alt:"aa"}),(0,h.jsx)("div",{className:(0,o.Gg)(null===(i=e.latestMessage)||void 0===i?void 0:i.sender._id,M)?"active":""})]}),(0,h.jsxs)("div",{className:"messge-body",children:[(0,h.jsx)("h5",{children:(null===(s=e.latestMessage)||void 0===s?void 0:s.sender.pseudo)===n.pseudo?"You":null===(r=e.latestMessage)||void 0===r?void 0:r.sender.pseudo}),(0,h.jsxs)("p",{className:"text-muted",children:[(0,o.F8)(null===(a=e.latestMessage)||void 0===a?void 0:a.message)," "]})]})]},e._id)}))]})}),(0,s.useMemo)((function(){return(0,h.jsxs)("div",{className:"freind-requests",children:[(0,h.jsx)("h4",{children:"Suggestions"}),f?(0,h.jsx)("div",{className:"feed",children:"Loading....."}):(0,h.jsxs)(h.Fragment,{children:[Z&&Z.map((function(t){for(var i=0;i<e.length;i++)if(t===e[i]._id&&t!==n._id)return(0,h.jsxs)("div",{className:"request",children:[(0,h.jsxs)("div",{className:"info",children:[(0,h.jsx)("div",{className:"profile-picture",children:(0,h.jsx)(d.Z,{src:e[i].picture,alt:"aa"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(l.rU,{className:"linkProfile",to:"/profile/".concat(e[i]._id),children:(0,h.jsx)("h5",{className:"noum",children:e[i].pseudo})}),(0,h.jsxs)("p",{className:"text-muted",children:[e[i].following.length," following"]})]})]}),(0,h.jsxs)("div",{className:"action",children:[(0,h.jsx)(u.Z,{idTofollow:t,type:"suggestion"}),(0,h.jsx)("button",{className:" btn-new",children:"gretting"})]})]},Math.random())})),(0,h.jsx)("div",{className:"request",children:(0,h.jsx)("div",{className:"profile-picture-ab",children:"For Looking others......"})})]})]})}),[Z,e,f,n._id])]})})}));n.Z=p},5194:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var i=t(7047),s=t(1582),r=t(184);function a(){return(0,r.jsxs)(s.Z,{spacing:1,sx:{backgroundColor:"var(--color-white)",margin:"1rem 0rem",padding:"1.1rem",borderRadius:"10px"},children:[(0,r.jsx)(i.Z,{variant:"circular",width:40,height:40,sx:{backgroundColor:"var(--color-light)"}}),(0,r.jsx)(i.Z,{variant:"text",sx:{fontSize:"1rem",backgroundColor:"var(--color-light)"}}),(0,r.jsx)(i.Z,{variant:"rectangular",width:"100%",height:200,sx:{backgroundColor:"var(--color-light)"}}),(0,r.jsx)(i.Z,{variant:"rounded",width:"100%",height:60,sx:{backgroundColor:"var(--color-light)"}})]})}},6587:function(e,n,t){var i=t(4165),s=t(5861),r=t(9439),a=t(1243),l=t(2791),o=t(9434),c=t(7498),u=t(1896),d=t(4212),h=t(184);n.Z=function(e){var n=e.idTofollow,t=e.type,p=e.socket,f=(0,l.useState)(!1),x=(0,r.Z)(f,2),m=x[0],v=x[1],j=(0,o.I0)(),g=(0,o.v9)((function(e){return e.userInfo})),w=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(0,a.Z)({method:"patch",url:"".concat(d.L,"/api/user/follow/").concat(n),withCredentials:!0,data:{idToFollow:t}}).then((function(e){j(c.Z.Follow(t)),(0,a.Z)({method:"patch",url:"".concat(d.L,"/api/post/notification/").concat(t),data:{notifieId:g._id,notifiePseudo:g.pseudo,notification:"start following  u",status:"pending",pictureNotifie:g.picture},withCredentials:!0}).then((function(e){console.log(e),p.emit("sendNotification",{senderName:g._id,resverName:t,timeNot:new Date})})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,s){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.next=3,(0,a.Z)({method:"patch",url:"".concat(d.L,"/api/user/unfollow/").concat(t),withCredentials:!0,data:{idToUnFollow:s}}).then((function(e){j(c.Z.UnFollow(n))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){(0,u.xb)(g.following)||(g.following.includes(n)?v(!0):v(!1))}),[g,n]),(0,h.jsxs)(h.Fragment,{children:[!0===m&&(0,h.jsxs)("span",{onClick:function(){return b(g._id,n)},children:["suggestion"===t&&(0,h.jsx)("button",{className:"btn btn-primary",children:"UnFollow"}),"card"===t&&(0,h.jsx)("i",{className:"ri-checkbox-circle-fill"})]}),!1===m&&n!==g._id&&(0,h.jsxs)("span",{onClick:function(){return w(g._id,n)},children:["suggestion"===t&&(0,h.jsx)("button",{className:"btn btn-primary",children:"follow"}),"card"===t&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]}),!1===m&&n===g._id&&(0,h.jsxs)("span",{children:["suggestion"===t&&(0,h.jsx)("button",{className:"btn btn-primary disableButton",children:"follow"}),"card"===t&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]})]})}},2680:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var i=t(1413),s=t(4165),r=t(5861),a=t(9439),l=t(2791),o=t(367),c=t(4938),u=t(6980),d=t(774),h=t(1147),p=t(5273),f=t(4131),x=t(3821),m=t(1697),v=t(6587),j=t(8169),g=t(1896),w=t(3044),b=t(9445),Z=t(9453),N=t(1087),y=t(4212),k=t(9998),C=t(7005),L=t(4554),S=t(7123),M=t(890),P=t(3963),_=t(6151),U=function(e){return new Promise((function(n,t){var i=new Image;i.addEventListener("load",(function(){return n(i)})),i.addEventListener("error",(function(e){return t(e)})),i.setAttribute("crossOrigin","anonymous"),i.src=e}))};function E(e){return e*Math.PI/180}function I(e,n,t){var i=E(t);return{width:Math.abs(Math.cos(i)*e)+Math.abs(Math.sin(i)*n),height:Math.abs(Math.sin(i)*e)+Math.abs(Math.cos(i)*n)}}function F(e,n){return q.apply(this,arguments)}function q(){return q=(0,r.Z)((0,s.Z)().mark((function e(n,t){var i,r,a,l,o,c,u,d,h,p,f,x=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.length>2&&void 0!==x[2]?x[2]:0,r=x.length>3&&void 0!==x[3]?x[3]:{horizontal:!1,vertical:!1},e.next=4,U(n);case 4:if(a=e.sent,l=document.createElement("canvas"),o=l.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:if(c=E(i),u=I(a.width,a.height,i),d=u.width,h=u.height,l.width=d,l.height=h,o.translate(d/2,h/2),o.rotate(c),o.scale(r.horizontal?-1:1,r.vertical?-1:1),o.translate(-a.width/2,-a.height/2),o.drawImage(a,0,0),p=document.createElement("canvas"),f=p.getContext("2d")){e.next=22;break}return e.abrupt("return",null);case 22:return p.width=t.width,p.height=t.height,f.drawImage(l,t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.abrupt("return",new Promise((function(e,n){p.toBlob((function(n){n.name="cropped.jpeg",e({file:n,url:URL.createObjectURL(n)})}),"image/jpeg")})));case 26:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function A(e){return R.apply(this,arguments)}function R(){return R=(0,r.Z)((0,s.Z)().mark((function e(n){var t,i,r,a,l=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:0,e.next=3,U(n);case 3:return i=e.sent,r=document.createElement("canvas"),a=r.getContext("2d"),90===t||-90===t||270===t||-270===t?(r.width=i.height,r.height=i.width):(r.width=i.width,r.height=i.height),a.translate(r.width/2,r.height/2),a.rotate(t*Math.PI/180),a.drawImage(i,-i.width/2,-i.height/2),e.abrupt("return",new Promise((function(e){r.toBlob((function(n){e(URL.createObjectURL(n))}),"image/png")})));case 12:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}var O=t(3666),T=(t(7498),t(9434)),G=t(184),z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",bgcolor:"var(--color-light)",border:"2px solid #000",boxShadow:24,p:4},D=function(e){var n=e.photoURL,t=e.setOpenCrop,i=(0,l.useState)({x:0,y:0}),o=(0,a.Z)(i,2),c=o[0],u=o[1],d=(0,l.useState)(1),h=(0,a.Z)(d,2),p=h[0],f=h[1],x=(0,l.useState)(0),m=(0,a.Z)(x,2),v=m[0],j=m[1],g=(0,l.useState)(null),w=(0,a.Z)(g,2),b=w[0],Z=w[1],N=(0,l.useState)(),y=(0,a.Z)(N,2),k=y[0],U=y[1],E=((0,T.I0)(),(0,l.useCallback)((0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(n,b,v);case 3:t=e.sent,U(t),console.log("donee",{croppedImage:k}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[b,k,v,n]));return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(O.Z,{open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,G.jsxs)(L.Z,{sx:z,children:[(0,G.jsx)(L.Z,{sx:{background:"white",position:"relative",height:300,width:"100%",minWidth:{sm:400}},children:(0,G.jsx)(C.ZP,{image:n,crop:c,rotation:v,zoom:p,aspect:"".concat(1),zoomWithScroll:!0,onZoomchange:f,onRotationChange:j,onCropChange:u,onCropComplete:function(e,n){Z(n),console.log(e,n)},objectFit:"contain"})}),(0,G.jsxs)(S.Z,{sx:{flexDirection:"column",nx:3,my:2},children:[(0,G.jsxs)(L.Z,{sx:{width:"100%",nb:1},children:[(0,G.jsxs)(L.Z,{children:[(0,G.jsxs)(M.Z,{children:["zoom : ",B(p)]}),(0,G.jsx)(P.ZP,{valuelabledisplay:"auto",valuelablelformat:B,min:1,max:3,step:.01,value:p,onChange:function(e,n){return f(n)}})]}),(0,G.jsxs)(L.Z,{children:[(0,G.jsxs)(M.Z,{children:["rotation : ",v]}),(0,G.jsx)(P.ZP,{valuelableldisplay:"auto",min:0,max:360,value:v,onChange:function(e,n){return j(n)}})]}),(0,G.jsxs)(L.Z,{children:[(0,G.jsxs)(M.Z,{children:["rotation : ",v]}),(0,G.jsx)(P.ZP,{valuelableldisplay:"auto",min:0,max:360,value:v,onChange:function(e,n){return j(n)}})]})]}),(0,G.jsxs)(L.Z,{sx:{display:"flex",gap:10,flexWrap:"wrap",justifyContent:"space-between"},children:[(0,G.jsx)(_.Z,{variant:"outlined",onClick:function(){return t(!1)},children:"Cancel"}),(0,G.jsx)(_.Z,{variant:"contained",onClick:E,children:"Crop"})]})]})]})})})},B=function(e){return"".concat(Math.round(100*e),"%")},Y=t(1243),H=(t(5752),function(e){var n=e.socket,t=(0,T.v9)((function(e){return e.userInfo})),C=(0,T.v9)((function(e){return e.getusers})),L=(0,T.v9)((function(e){return e.Allpost})),S=(0,l.useState)(),M=(0,a.Z)(S,2),P=M[0],_=M[1],U=(0,l.useState)(),E=(0,a.Z)(U,2),I=E[0],F=E[1],q=(0,l.useState)(),R=(0,a.Z)(q,2),O=R[0],z=R[1],B=(0,l.useState)(!1),H=(0,a.Z)(B,2),W=H[0],X=H[1],J=(0,l.useState)(),K=(0,a.Z)(J,2),Q=K[0],V=K[1],$=(0,l.useState)(null===t||void 0===t?void 0:t.picture),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],ie=(0,l.useState)(!1),se=(0,a.Z)(ie,2),re=se[0],ae=se[1],le=(0,l.useState)(""),oe=(0,a.Z)(le,2),ce=oe[0],ue=oe[1],de=(0,l.useState)(""),he=(0,a.Z)(de,2),pe=he[0],fe=he[1],xe=(0,l.useState)(""),me=(0,a.Z)(xe,2),ve=me[0],je=me[1],ge=(0,l.useState)(""),we=(0,a.Z)(ge,2),be=we[0],Ze=we[1],Ne=(0,l.useState)(!1),ye=(0,a.Z)(Ne,2),ke=ye[0],Ce=ye[1],Le=(0,T.I0)(),Se=(0,l.useState)(0),Me=(0,a.Z)(Se,2),Pe=Me[0],_e=Me[1],Ue=(0,l.useState)(0),Ee=(0,a.Z)(Ue,2),Ie=Ee[0],Fe=Ee[1],qe=(0,l.useContext)(m.i),Ae=(0,l.useState)({fileList:[],uploading:!1}),Re=(0,a.Z)(Ae,2),Oe=Re[0],Te=Re[1],Ge={3:180,6:90,8:-90};function ze(e){return new Promise((function(n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)}),!1),t.readAsDataURL(e)}))}(0,l.useEffect)((function(){if((null===P||void 0===P?void 0:P.length)>0){var e=document.querySelector(".carousel");document.querySelectorAll(".himfollowers i").forEach((function(n){n.addEventListener("click",(function(n){console.log(n.target.id),"left"===n.target.id?e.scrollLeft-=10:e.scrollLeft+=10}))}));var n,t,i=!1;e.addEventListener("mousedown",(function(s){i=!0,e.classList.add("dragging"),n=s.pageX,t=e.scrollLeft})),e.addEventListener("mousemove",(function(s){i&&(e.scrollLeft=t-(s.pageX-n))})),document.addEventListener("mouseup",(function(){i=!1,e.classList.remove("dragging")}))}}),[null===P||void 0===P?void 0:P.length]),(0,l.useEffect)((function(){if(qe){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("no token"===qe){e.next=3;break}return e.next=3,(0,Y.Z)({method:"get",url:"".concat(y.L,"/api/user/").concat(qe),withCredentials:!0}).then((function(e){var n=e.data;V(n)})).catch((function(){return console.log("no data found")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}var n=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("no token"===qe){e.next=3;break}return e.next=3,(0,Y.Z)({method:"get",url:"".concat(y.L,"/api/user"),withCredentials:!0}).then((function(e){Le(Z.O.GetuAllsers(e.data))})).catch((function(){return Le(Z.O.GetuAllsers({message:"no user exist now"}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n();var t=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("no token"===qe){e.next=3;break}return e.next=3,(0,Y.Z)({method:"get",url:"".concat(y.L,"/api/post"),withCredentials:!0}).then((function(e){var n=e.data;Le(b.s.GetAll(n)),console.log("fetch again from profile outher ")})).catch((function(){return Le(b.s.GetAll({message:"no post exist now"}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[qe]),(0,l.useEffect)((function(){if(("no token"!==qe||L)&&!(0,g.xb)(C)){var e=null===C||void 0===C?void 0:C.filter((function(e){return e.following.includes(qe)}));console.log(e),_(e);var n=L.filter((function(e){return e.posterId===qe}));z(n),console.log(n);for(var t=0,i=0;i<(null===O||void 0===O?void 0:O.length);i++)t+=O[i].likers.length;F(t)}}),[qe,L]);var De=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var t,i,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.target.files[0])){e.next=23;break}return Te((function(e){return{fileList:[t]}})),console.log(Oe),e.next=6,ze(t);case 6:return i=e.sent,e.prev=7,e.next=10,(0,k.getOrientation)(t);case 10:if(r=e.sent,!(a=Ge[r])){e.next=16;break}return e.next=15,A(i,a);case 15:i=e.sent;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log("failed to detect the orientation");case 21:ae(!0),te(i);case 23:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(n){return e.apply(this,arguments)}}(),Be=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.xb)(ce)){e.next=4;break}alert("empty full name"),e.next=6;break;case 4:return e.next=6,(0,Y.Z)({method:"put",url:"".concat(y.L,"/api/user/").concat(qe),withCredentials:!0,data:{fullName:ce}}).then((function(e){var n=e.data;console.log(n)})).catch((function(){return console.log("no data found")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.xb)(pe)){e.next=4;break}alert("empty phone"),e.next=6;break;case 4:return e.next=6,(0,Y.Z)({method:"put",url:"".concat(y.L,"/api/user/").concat(qe),withCredentials:!0,data:{phone:pe}}).then((function(e){var n=e.data;console.log(n)})).catch((function(){return console.log("no data found")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.xb)(be)){e.next=4;break}alert("empty professionnal"),e.next=6;break;case 4:return e.next=6,(0,Y.Z)({method:"put",url:"".concat(y.L,"/api/user/").concat(qe),withCredentials:!0,data:{professionnal:be}}).then((function(e){var n=e.data;console.log(n)})).catch((function(){return console.log("no data found")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.xb)(ve)){e.next=4;break}alert("empty bio"),e.next=6;break;case 4:return e.next=6,(0,Y.Z)({method:"put",url:"".concat(y.L,"/api/user/").concat(qe),withCredentials:!0,data:{bio:ve}}).then((function(e){var n=e.data;console.log(n)})).catch((function(){return console.log("no data found")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe.fileList,(t=new FormData).append("userId",qe),!(0,g.xb)(n)&&t.append("file",n[0]),Te({uploading:!0}),e.next=7,(0,Y.Z)({method:"post",url:"".concat(y.L,"/api/user/upload"),withCredentials:!0,data:t,onUploadProgress:function(e){console.log(e),_e(e.progress),Fe(e.estimated)}}).then((function(e){var n=e.data;console.log(n),Te({fileList:[]}),c.ZP.success("upload successifull"),Te({uploading:!1})})).catch((function(e){Te({uploading:!1}),c.ZP.error(e.response.data.message)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=(Oe.uploading,{multiple:!1,showUploadList:!0,onRemove:function(e){Te((function(e){return{fileList:[]}}))},beforeUpload:function(e){return Te((function(n){return{fileList:[e]}})),!1},fileList:Oe.fileList});return(0,G.jsxs)(o.Z,{title:null===t||void 0===t?void 0:t.pseudo,children:[(0,G.jsx)("div",{className:"container",children:(0,G.jsxs)("div",{className:"wrapper",children:[(0,G.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,G.jsxs)("div",{className:"profile",children:[(0,G.jsx)("div",{className:"image",children:(0,G.jsx)("img",{src:null===Q||void 0===Q?void 0:Q.picture,alt:Q&&(null===Q||void 0===Q?void 0:Q._id)})}),(0,G.jsxs)("div",{className:"wrapper-2",children:[(0,G.jsx)("div",{style:{width:"9rem",height:"9rem",overflow:"hidden",borderRadius:"50%",position:"relative",top:"-70px",left:"20px",border:"6px solid var(--color-white)"},children:(0,G.jsx)(w.Z,{style:{display:"absolute",top:"0",left:"0",width:"100%",height:"100%"},src:null===Q||void 0===Q?void 0:Q.picture,alt:null===Q||void 0===Q?void 0:Q.pseudo})}),(0,G.jsxs)("div",{className:"infos",children:[(0,G.jsx)("h4",{children:null===Q||void 0===Q?void 0:Q.pseudo}),(0,G.jsx)("span",{children:"\xc9tudiant(e) \xe0 univeriste polytechinique de gitega(UPG)"}),(0,G.jsx)("small",{children:"kinyinya,ruyigi,burundi"}),(0,G.jsxs)("div",{className:"followFollowing",children:[(0,G.jsxs)("span",{children:[null===Q||void 0===Q?void 0:Q.followers.length," followers"]}),(0,G.jsxs)("span",{children:[null===Q||void 0===Q?void 0:Q.following.length," following"]}),(0,G.jsxs)("span",{children:[null===O||void 0===O?void 0:O.length," Posts"]}),(0,G.jsxs)("span",{children:[I," Likes"]})]}),(0,G.jsx)("span",{children:"la vie est plus bon que tu le pense mais aussi est plud dur que bon buy jeneiro hurley"}),(0,G.jsxs)("div",{className:"action",children:[(0,G.jsx)(v.Z,{idTofollow:qe,type:"suggestion"})," ",(0,G.jsx)("button",{className:" btn-new",onClick:function(){return X(!0)},children:"Edit Profile"})]})]})]})]}),(null===P||void 0===P?void 0:P.length)>0&&(0,G.jsxs)("div",{className:"himfollowers",children:[(null===P||void 0===P?void 0:P.length)>3&&(0,G.jsx)("i",{className:"ri-arrow-drop-left-line",id:"left"}),(0,G.jsx)("div",{className:"carousel",children:null===P||void 0===P?void 0:P.map((function(e,n){return(0,G.jsxs)("div",{className:"request",children:[(0,G.jsxs)("div",{className:"info",children:[(0,G.jsx)("div",{className:"profile-picture",children:(0,G.jsx)(w.Z,{src:null===e||void 0===e?void 0:e.picture,alt:"aa"})}),(0,G.jsxs)("div",{children:[(0,G.jsx)(N.rU,{className:"linkProfile",to:"/profile/".concat(null===e||void 0===e?void 0:e._id),children:(0,G.jsx)("h5",{className:"noum",children:null===e||void 0===e?void 0:e.pseudo})}),(0,G.jsxs)("p",{className:"text-muted",children:[null===e||void 0===e?void 0:e.following.length," following"]})]})]}),(0,G.jsxs)("div",{className:"action",children:[(0,G.jsx)(v.Z,{idTofollow:e._id,type:"suggestion"}),(0,G.jsx)("button",{className:" btn-new",children:"gretting"})]})]},n)}))}),(null===P||void 0===P?void 0:P.length)>3&&(0,G.jsx)("i",{className:"ri-arrow-drop-right-line",id:"right"})]}),(0,G.jsx)("div",{children:(0,G.jsx)(j.Z,{socket:n,type:"hisprofile",paramsId:qe})})]}),(0,G.jsx)("div",{className:"leftProfile",children:t&&(0,G.jsx)(x.Z,{user:t})})]})}),re&&(0,G.jsx)("div",{className:"popupUpdateProfileCrop",children:(0,G.jsx)(D,{photoURL:ne,setOpenCrop:ae})}),W&&(0,G.jsxs)("div",{className:"popupUpdateProfile",children:[(0,G.jsxs)("div",{className:"un",children:[(0,G.jsx)("div",{className:"un-un",children:(0,G.jsx)("h3",{children:"User infos"})}),(0,G.jsxs)("div",{className:"un-deux",children:[(0,G.jsx)("input",{type:"text",placeholder:"full name",value:ce,onChange:function(e){return ue(e.target.value)}}),(0,G.jsx)("button",{className:"btnprofile",onClick:Be,children:"update"})]}),(0,G.jsxs)("div",{className:"un-trois",children:[(0,G.jsx)("input",{type:"text",placeholder:"number phone ie: +257 11449900",value:pe,onChange:function(e){return fe(e.target.value)}}),(0,G.jsx)("button",{className:"btnprofile",onClick:Ye,children:"update"})]}),(0,G.jsxs)("div",{className:"un-quatre",children:[(0,G.jsx)("input",{type:"text",placeholder:"biographique",value:ve,onChange:function(e){return je(e.target.value)}}),(0,G.jsx)("button",{className:"btnprofile",onClick:We,children:"update"})]}),(0,G.jsxs)("div",{className:"un-cinq",children:[(0,G.jsx)("input",{type:"text",placeholder:"Your proffessional",value:be,onChange:function(e){return Ze(e.target.value)}}),(0,G.jsx)("button",{className:"btnprofile",onClick:He,children:"update"})]}),(0,G.jsxs)("div",{className:"un-six",children:[(0,G.jsx)("input",{type:"text",placeholder:"Your country"}),(0,G.jsx)("button",{className:"btnprofile",children:"update"})]}),(0,G.jsxs)("div",{className:"un-six",children:[(0,G.jsx)("input",{type:"text",placeholder:"where didu study???"}),(0,G.jsx)("button",{className:"btnprofile",children:"update"})]}),(0,G.jsxs)("div",{className:"un-six",children:[(0,G.jsxs)("select",{children:[(0,G.jsx)("option",{children:"Masculin"}),(0,G.jsx)("option",{children:"feminin"})]}),(0,G.jsx)("button",{className:"btnprofile",children:"update"})]}),(0,G.jsx)("div",{className:"un-un",children:(0,G.jsx)("h3",{children:"Your social media"})}),(0,G.jsxs)("div",{className:"un-six",children:[(0,G.jsx)("input",{type:"text",placeholder:"Add link of your social media like ie: https://www.chatburundi.com/janeirohurley"}),(0,G.jsx)("button",{className:"btnprofile",children:"Add"}),(0,G.jsxs)("div",{className:"social-media",children:[(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-facebook-circle-fill"}),(0,G.jsx)(N.rU,{to:"profile",children:"facebook"}),(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-twitter-fill"}),"twitter ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-instagram-fill"}),"instagram ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-youtube-fill"}),"youtube",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-whatsapp-fill"}),"whatsapp ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-whatsapp-fill"}),"whatsapp ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]})]})]}),ke&&(0,G.jsx)("div",{className:"suivante",children:(0,G.jsxs)("button",{className:"btnprofile precedente",onClick:function(){return Ce(!1)},children:[(0,G.jsx)("i",{className:"ri-arrow-left-line"})," precedente"]})}),(0,G.jsxs)("button",{className:"btnprofile btnsuivante",onClick:function(){return Ce(!0)},children:[" suivante ",(0,G.jsx)("i",{className:"ri-arrow-right-line"})]})]}),(0,G.jsxs)("div",{className:"deux",children:[(0,G.jsx)("div",{className:"deux-un",children:(0,G.jsx)("h3",{children:"Current profile"})}),(0,G.jsxs)("div",{className:"profile",children:[(0,G.jsxs)("div",{className:"image",children:[(0,G.jsx)("div",{className:"popounderphoto",children:(0,G.jsxs)("div",{className:"icon-input",children:[(0,G.jsx)("input",{type:"file",title:"update picture",onChange:function(e){return De(e)}}),(0,G.jsx)("i",{className:"ri-pencil-line"})]})}),(0,G.jsx)("img",{src:null===Q||void 0===Q?void 0:Q.picture,alt:Q&&(null===Q||void 0===Q?void 0:Q._id)})]}),(0,G.jsxs)("div",{className:"wrapper-2",children:[(0,G.jsxs)("div",{style:{width:"9rem",height:"9rem",overflow:"hidden",borderRadius:"50%",position:"relative",top:"-70px",left:"20px",border:"6px solid var(--color-white)"},children:[(0,G.jsx)("div",{className:"popounderphoto roundprofile",children:(0,G.jsxs)("div",{className:"icon-input2",children:[(0,G.jsx)("input",{type:"file",title:"update picture",onChange:function(e){return De(e)}}),(0,G.jsx)("i",{className:"ri-pencil-line"})]})}),(0,G.jsx)(w.Z,{style:{display:"absolute",top:"0",left:"0",width:"100%",height:"100%"},src:null===Q||void 0===Q?void 0:Q.picture,alt:null===Q||void 0===Q?void 0:Q.pseudo})]}),(0,G.jsxs)("div",{className:"infos",children:[(0,G.jsx)(u.Z,(0,i.Z)({},Je)),0!==Ie&&(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(d.Z,{direction:"column",style:{backgroundColor:"rgba(0,0,0,0.5)",padding:8,width:"100%",display:"flex",flexDirection:"column"},children:[(0,G.jsxs)(h.Z,{variant:"span",type:"secondary",children:["is being Uploaded in ",function(e){var n=Math.floor(e/3600),t=Math.floor(e/60-60*n),i=Math.floor(e-60*t-3600*n),s="".concat(i," sec");return t&&(s="".concat(t," min ").concat(s)),t&&(s="".concat(n," hrs ").concat(s)),s}(Ie)]}),(0,G.jsx)(p.Z,{percent:Math.ceil(100*Pe),style:{display:"flex",flexDirection:"row"}})]})}),(0,G.jsx)(f.ZP,{type:"primary",onClick:Xe,disabled:(0,g.xb)(Oe.fileList),loading:Oe.uploading,style:{marginTop:16},children:Oe.uploading?"Uploading....":"start Upload"}),(0,G.jsx)("h4",{children:null===Q||void 0===Q?void 0:Q.pseudo}),(0,G.jsxs)("span",{children:[(0,G.jsx)("i",{className:"ri-building-4-line"})," \xc9tudiant(e) \xe0 univeriste polytechinique de gitega(UPG)"]}),(0,G.jsxs)("small",{children:[(0,G.jsx)("i",{className:"ri-map-pin-2-line"})," kinyinya,ruyigi,burundi"]}),(0,G.jsx)("span",{children:" bio : la vie est plus bon que tu le pense mais aussi est plud dur que bon buy jeneiro hurley"}),(0,G.jsxs)("div",{className:"followFollowing",children:[(0,G.jsxs)("span",{children:[null===Q||void 0===Q?void 0:Q.followers.length," followers"]}),(0,G.jsxs)("span",{children:[null===Q||void 0===Q?void 0:Q.following.length," following"]}),(0,G.jsxs)("span",{children:[null===O||void 0===O?void 0:O.length," Posts"]}),(0,G.jsxs)("span",{children:[I," Likes"]})]}),(0,G.jsxs)("div",{className:"social-media",children:[(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-facebook-circle-fill"}),(0,G.jsx)(N.rU,{to:"profile",children:"facebook"}),(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-twitter-fill"}),"twitter ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-instagram-fill"}),"instagram ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-youtube-fill"}),"youtube",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-whatsapp-fill"}),"whatsapp ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]}),(0,G.jsxs)("div",{className:"media-1",children:[(0,G.jsx)("i",{className:"ri-whatsapp-fill"}),"whatsapp ",(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"ri-close-circle-fill"})})]})]})]})]})]})]})]})]})})}}]);
//# sourceMappingURL=550.d859d7fb.chunk.js.map