{"version":3,"file":"static/js/99.834238bb.chunk.js","mappings":"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","sources":["commponents/Helmet/Helmet.jsx","pages/Forgetpassword.jsx","webpack://update-chat-burundi/./src/styles/login.module.css?2735"],"sourcesContent":["import React from \"react\";\r\nconst Helmet = (props) => {\r\n  document.title = \"Chat Burundi - \" + props.title;\r\n  return <div className=\"w-100\">{props.children}</div>;\r\n};\r\nexport default Helmet;\r\n","import React, { useState,useEffect } from \"react\";\r\nimport Helmet from \"../commponents/Helmet/Helmet\";\r\nimport styles from \"../styles/login.module.css\"\r\nimport { Link, useParams,useNavigate } from \"react-router-dom\";\r\nimport { Switch } from \"@mui/material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { SERVER_URL } from \"../Domain\";\r\nimport axios from \"axios\";\r\nconst Forgetpassword = () => {\r\nconst [data, setData] = useState({\r\n    newpassword: \"\",\r\n    confirmnewpassword: \"\",\r\n})\r\nconst params = useParams()\r\nconst navigate = useNavigate();\r\nconst [error, setError] = useState(\"\")\r\nconst [success, setSuccess] = useState(\"\")\r\nconst [checked, setChecked] = useState(false)\r\nconst [loading,setloading] = useState(false)\r\nconst [auth,setauth] = useState(false)\r\n\r\nuseEffect(()=>{\r\n    const fetchUserAllData = async () => {\r\n    await axios({\r\n      method: \"get\",\r\n      url: `${SERVER_URL}/api/user`,\r\n      withCredentials: true,\r\n    })\r\n      .then(({data}) => {\r\n        const user = data.filter((user)=>user.email === params.email)\r\n          console.log(user[0].requestChangePassword) \r\n          if(user[0].requestChangePassword === false) {\r\n            setTimeout(()=>{\r\n             navigate(`/change-password/${user[0].email}/notFound`)\r\n            },5000)\r\n          }else{\r\n            setauth(true)\r\n          }\r\n      })\r\n      .catch(() => console.log(\"error\"))\r\n}\r\nfetchUserAllData()\r\n},[])\r\nconst handleChange = ({ currentTarget: input }) => {\r\n    setData({ ...data, [input.name]: input.value })\r\n}\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (data.newpassword !== data.confirmnewpassword) {\r\n    setError(\"password are not equal\")\r\n    setTimeout(() => {\r\n        setError(\"\")\r\n    }, 5000)\r\n}\r\nif (data.newpassword === data.confirmnewpassword) {\r\n    setloading(true)\r\n        axios({\r\n                method: \"put\",\r\n                url: `${SERVER_URL}/api/user/changepassword/user`,\r\n                data :{\r\n                email:params.email,\r\n                newpassword:data.newpassword\r\n                },\r\n                withCredentials : true\r\n        }).then(({data})=>{\r\n            \r\n        setloading(false);\r\n                if(data.message !==\"password changed successifully\"){\r\n                        setError(data.message)\r\n                        setTimeout(() => {\r\n                        setError(\"\")\r\n                        }, 5000)\r\n                }else{\r\n                        setSuccess(data.message)\r\n                        setTimeout(()=>{\r\n                        // window.location=\"/login\"\r\n                        navigate(\"/login\")\r\n                        },2000)\r\n                }\r\n        }).catch((err)=>console.log(err))\r\n\r\n}\r\n}\r\nconst showpassword = (control) => {\r\n    if (control === \"checked\") {\r\n        setChecked(true)\r\n    } else if (control === \"notchecked\") {\r\n        setChecked(false)\r\n    }\r\n};\r\n    return (\r\n        <Helmet title={\"Changing password\"}>\r\n        {\r\n            auth &&\r\n             <div className={styles.container_login}>\r\n                <div className={styles.login_form_container}>\r\n                    <div className={styles.left}>\r\n                        <form onSubmit={handleSubmit} className={styles.form_container}>\r\n                            <h1>Changing password</h1>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={params.email}\r\n                                disabled\r\n                                className={styles.input}\r\n                            />\r\n                            <input\r\n                                type={checked ? \"text\" : \"password\"}\r\n                                placeholder=\"create new password\"\r\n                                name=\"newpassword\"\r\n                                value={data.newpassword}\r\n                                required\r\n                                className={styles.input}\r\n                                onChange={handleChange}\r\n                            />\r\n                            <input\r\n                                type={checked ? \"text\" : \"password\"}\r\n                                placeholder=\"Confirm your new password\"\r\n                                name=\"confirmnewpassword\"\r\n                                value={data.confirmnewpassword}\r\n                                required\r\n                                className={styles.input}\r\n                                onChange={handleChange}\r\n                            />\r\n                            <div className={styles.checkbox}>\r\n                                {\r\n                                    checked ?\r\n                                        <><Switch checked onClick={() => showpassword(\"notchecked\")} /><p>hide password</p></>\r\n                                        :\r\n                                        <><Switch  onClick={() => showpassword(\"checked\")} /><p>show password</p></>\r\n                                }\r\n                            </div>\r\n                            {\r\n                                error && <div className={styles.error_msg}>{error}</div>\r\n                            }\r\n                             {\r\n                                success && <div className={styles.success_msg}>{success}</div>\r\n                            }\r\n                            <LoadingButton loading = {loading} sx={{padding:\"0px\"}} >\r\n                            <button type=\"submit\" className={styles.green_btn}>change password</button>\r\n                            </LoadingButton>\r\n                        </form>\r\n                    </div>\r\n                    <div className={styles.right}>\r\n                        <h1>No needed ?</h1>\r\n                        <Link to=\"/login\">\r\n                            <button className={styles.white_button}>Return to login</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        }\r\n\r\n        </Helmet >\r\n    )\r\n}\r\nexport default Forgetpassword;","// extracted by mini-css-extract-plugin\nexport default {\"container_login\":\"login_container_login__iLnj4\",\"login_form_container\":\"login_login_form_container__+6lt+\",\"left\":\"login_left__EDsY0\",\"form_container\":\"login_form_container__SGM+W\",\"input\":\"login_input__BV7y9\",\"error_msg\":\"login_error_msg__JaY1K\",\"success_msg\":\"login_success_msg__VvfNr\",\"checkbox\":\"login_checkbox__lLEDJ\",\"right\":\"login_right__x9Z1V\",\"green_btn\":\"login_green_btn__roMoI\",\"white_button\":\"login_white_button__wPgJ3\"};"],"names":["props","document","title","_jsx","className","children","_useState","useState","newpassword","confirmnewpassword","_useState2","_slicedToArray","data","setData","params","useParams","navigate","useNavigate","_useState3","_useState4","error","setError","_useState5","_useState6","success","setSuccess","_useState7","_useState8","checked","setChecked","_useState9","_useState10","loading","setloading","_useState11","_useState12","auth","setauth","useEffect","fetchUserAllData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","method","url","concat","SERVER_URL","withCredentials","then","_ref2","user","filter","email","console","log","requestChangePassword","setTimeout","catch","stop","apply","arguments","handleChange","_ref3","input","currentTarget","_objectSpread","_defineProperty","name","value","showpassword","control","Helmet","styles","_jsxs","onSubmit","e","preventDefault","_ref4","message","err","type","disabled","placeholder","required","onChange","_Fragment","Switch","onClick","LoadingButton","sx","padding","Link","to"],"sourceRoot":""}