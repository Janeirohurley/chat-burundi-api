(self.webpackChunkupdate_chat_burundi=self.webpackChunkupdate_chat_burundi||[]).push([[667],{367:function(e,t,n){"use strict";n(2791);var s=n(184);t.Z=function(e){return document.title="Chat Burundi - "+e.title,(0,s.jsx)("div",{className:"w-100",children:e.children})}},5392:function(e,t,n){"use strict";n(2791);var s=n(184);t.Z=function(e){var t=e.text,n=e.type,r=e.color;return(0,s.jsxs)("div",{style:{backgroundImage:r||" linear-gradient(to right bottom, rgb(228, 64, 92), purple)"},className:"cardCanvas",children:["trending"===n&&(0,s.jsx)("p",{children:t}),"posts"===n&&(0,s.jsx)("h2",{children:t})]})}},8169:function(e,t,n){"use strict";var s=n(9439),r=n(4165),i=n(5861),o=n(2791),a=n(1243),c=n(2010),l=n(9434),u=n(1896),d=n(4212),h=n(5194),m=n(184),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,3e3)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(0,o.lazy)((function(){return f(Promise.all([n.e(463),n.e(706),n.e(429),n.e(752)]).then(n.bind(n,5752)))}));t.Z=function(e){var t=e.socket,n=e.type,f=e.paramsId,g=(e.hisprofile,(0,l.I0)()),x=(0,o.useState)(!0),v=(0,s.Z)(x,2),j=v[0],k=v[1],y=(0,o.useState)(5),N=(0,s.Z)(y,2),b=N[0],w=N[1],L=(0,l.v9)((function(e){return e.posts})),Z=(0,l.v9)((function(e){return e.userInfo})),E=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight-50&&k(!0)};return(0,o.useEffect)((function(){if(j){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)({method:"GET",url:d.L+"/api/post/",withCredentials:!0}).then((function(e){var t=e.data;console.log("fetch again from posts");for(var n=(0,u.MN)(t,Z.following,Z._id).slice(0,b),s=0;s<n.length;s++)n[s].comments.reverse();g(c.J.fetchAllPosts(n)),k(!1),w((function(e){return e+5}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[j]),(0,o.useEffect)((function(){return window.addEventListener("scroll",E),function(){return window.removeEventListener("scroll",E)}}),[]),(0,m.jsxs)("div",{className:f?"hisPosts":"feeds",children:["home"===n&&!(0,u.xb)(L[0])&&L.map((function(e){return(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(h.Z,{},Math.random()),children:(0,m.jsx)(p,{post:e,count:b,socket:t},e._id)})})),"profile"===n&&!(0,u.xb)(L[0])&&L.map((function(e){return(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(h.Z,{},Math.random()),children:e.posterId===Z._id&&(0,m.jsx)(p,{post:e,count:b,socket:t},e._id)})})),"hisprofile"===n&&f&&!(0,u.xb)(L[0])&&L.map((function(e){return(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(h.Z,{},Math.random()),children:e.posterId===f&&(0,m.jsx)(p,{post:e,count:b,socket:t},e._id)})}))]})}},3821:function(e,t,n){"use strict";var s=n(9439),r=n(2791),i=n(9434),o=n(7689),a=n(1087),c=n(1896),l=n(1933),u=n(6587),d=n(3044),h=n(184),m=(0,r.memo)((function(){var e=(0,i.v9)((function(e){return e.getusers})),t=(0,i.v9)((function(e){return e.userInfo})),n=(0,r.useState)(!0),m=(0,s.Z)(n,2),f=m[0],p=m[1],g=(0,r.useState)(!0),x=(0,s.Z)(g,2),v=x[0],j=x[1],k=(0,r.useState)([]),y=(0,s.Z)(k,2),N=y[0],b=y[1],w=(0,r.useState)([]),L=(0,s.Z)(w,2),Z=L[0],E=L[1],S=(0,i.v9)((function(e){return e.AllChat})),C=(0,i.v9)((function(e){return e.OnlineUsers})),M=(0,l.g)().setSelectedChat,z=(0,o.s0)();(0,r.useEffect)((function(){if(!(0,c.xb)(S[0])){var e=S.filter((function(e){return e.latestMessage})),t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){var n,s;return(null===(n=t.latestMessage)||void 0===n?void 0:n.createdAt)-(null===(s=e.latestMessage)||void 0===s?void 0:s.createdAt)}));t.length=3,E(t)}}),[S]),(0,r.useEffect)((function(){!v||(0,c.xb)(e[0])||(0,c.xb)(t._id)||(!function(){for(var n=[],s=0;s<e.length;s++)e[s]===t._id||e[s].followers.includes(t._id)||n.push(e[s]._id);n.sort((function(){return.5-Math.random()})),window.innerHeight>70&&(n.length=5),b(n)}(),p(!1),j(!1))}),[e,t,v]);return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"right",children:[(0,h.jsx)(h.Fragment,{children:Z&&(0,h.jsxs)("div",{className:"messages",children:[(0,h.jsx)("div",{className:"heading",children:(0,h.jsx)("h4",{children:"Latest Messages"})}),Z&&Z.map((function(e){var n,s,r,i,o;return(0,h.jsxs)("div",{className:"message",onClick:function(){return function(e){M(e),z("/messenger")}(e)},children:[(0,h.jsxs)("div",{className:"profile-picture",children:[(0,h.jsx)(d.Z,{src:null===(n=e.latestMessage)||void 0===n?void 0:n.sender.picture,alt:"aa"}),(0,h.jsx)("div",{className:(0,c.Gg)(null===(s=e.latestMessage)||void 0===s?void 0:s.sender._id,C)?"active":""})]}),(0,h.jsxs)("div",{className:"messge-body",children:[(0,h.jsx)("h5",{children:(null===(r=e.latestMessage)||void 0===r?void 0:r.sender.pseudo)===t.pseudo?"You":null===(i=e.latestMessage)||void 0===i?void 0:i.sender.pseudo}),(0,h.jsxs)("p",{className:"text-muted",children:[(0,c.F8)(null===(o=e.latestMessage)||void 0===o?void 0:o.message)," "]})]})]},e._id)}))]})}),(0,r.useMemo)((function(){return(0,h.jsxs)("div",{className:"freind-requests",children:[(0,h.jsx)("h4",{children:"Suggestions"}),f?(0,h.jsx)("div",{className:"feed",children:"Loading....."}):(0,h.jsxs)(h.Fragment,{children:[N&&N.map((function(n){for(var s=0;s<e.length;s++)if(n===e[s]._id&&n!==t._id)return(0,h.jsxs)("div",{className:"request",children:[(0,h.jsxs)("div",{className:"info",children:[(0,h.jsx)("div",{className:"profile-picture",children:(0,h.jsx)(d.Z,{src:e[s].picture,alt:"aa"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(a.rU,{className:"linkProfile",to:"/profile/".concat(e[s]._id),children:(0,h.jsx)("h5",{className:"noum",children:e[s].pseudo})}),(0,h.jsxs)("p",{className:"text-muted",children:[e[s].following.length," following"]})]})]}),(0,h.jsxs)("div",{className:"action",children:[(0,h.jsx)(u.Z,{idTofollow:n,type:"suggestion"}),(0,h.jsx)("button",{className:" btn-new",children:"gretting"})]})]},Math.random())})),(0,h.jsx)("div",{className:"request",children:(0,h.jsx)("div",{className:"profile-picture-ab",children:"For Looking others......"})})]})]})}),[N,e,f,t._id])]})})}));t.Z=m},5194:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(2791);var s=n(7047),r=n(1582),i=n(184);function o(){return(0,i.jsxs)(r.Z,{spacing:1,sx:{backgroundColor:"var(--color-white)",margin:"1rem 0rem",padding:"1.1rem",borderRadius:"10px"},children:[(0,i.jsx)(s.Z,{variant:"circular",width:40,height:40,sx:{backgroundColor:"var(--color-light)"}}),(0,i.jsx)(s.Z,{variant:"text",sx:{fontSize:"1rem",backgroundColor:"var(--color-light)"}}),(0,i.jsx)(s.Z,{variant:"rectangular",width:"100%",height:200,sx:{backgroundColor:"var(--color-light)"}}),(0,i.jsx)(s.Z,{variant:"rounded",width:"100%",height:60,sx:{backgroundColor:"var(--color-light)"}})]})}},6587:function(e,t,n){"use strict";var s=n(4165),r=n(5861),i=n(9439),o=n(1243),a=n(2791),c=n(9434),l=n(7498),u=n(1896),d=n(4212),h=n(184);t.Z=function(e){var t=e.idTofollow,n=e.type,m=e.socket,f=(0,a.useState)(!1),p=(0,i.Z)(f,2),g=p[0],x=p[1],v=(0,c.I0)(),j=(0,c.v9)((function(e){return e.userInfo})),k=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/user/follow/").concat(t),withCredentials:!0,data:{idToFollow:n}}).then((function(e){v(l.Z.Follow(n)),(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/post/notification/").concat(n),data:{notifieId:j._id,notifiePseudo:j.pseudo,notification:"start following  u",status:"pending",pictureNotifie:j.picture},withCredentials:!0}).then((function(e){console.log(e),m.emit("sendNotification",{senderName:j._id,resverName:n,timeNot:new Date})})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,(0,o.Z)({method:"patch",url:"".concat(d.L,"/api/user/unfollow/").concat(n),withCredentials:!0,data:{idToUnFollow:r}}).then((function(e){v(l.Z.UnFollow(t))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(0,u.xb)(j.following)||(j.following.includes(t)?x(!0):x(!1))}),[j,t]),(0,h.jsxs)(h.Fragment,{children:[!0===g&&(0,h.jsxs)("span",{onClick:function(){return y(j._id,t)},children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary",children:"UnFollow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-fill"})]}),!1===g&&t!==j._id&&(0,h.jsxs)("span",{onClick:function(){return k(j._id,t)},children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary",children:"follow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]}),!1===g&&t===j._id&&(0,h.jsxs)("span",{children:["suggestion"===n&&(0,h.jsx)("button",{className:"btn btn-primary disableButton",children:"follow"}),"card"===n&&(0,h.jsx)("i",{className:"ri-checkbox-circle-line"})]})]})}},667:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var s=n(9439),r=n(2791),i=n(367),o=n(4165),a=n(5861),c=n(3433),l=n(1087),u=n(9434),d=n(2010),h=n(4212),m=n(1697),f=n(3044),p=n(1243),g=n(1896),x=n(1271),v=n(184),j=function(e){var t=e.user,n=e.setcustomizeTheme,i=e.socket,j=(0,r.useState)([]),k=(0,s.Z)(j,2),y=k[0],N=k[1],b=(0,r.useState)(!1),w=(0,s.Z)(b,2),L=w[0],Z=w[1],E=(0,r.useState)(5),S=(0,s.Z)(E,2),C=S[0],M=S[1],z=(0,u.v9)((function(e){return e.getusers})),_=(0,r.useState)([]),P=(0,s.Z)(_,2),A=P[0],F=P[1],I=(0,r.useContext)(m.i),H=(0,u.I0)();(0,r.useEffect)((function(){null===i||void 0===i||i.on("getNotification",(function(e){I&&(0,p.Z)({method:"get",url:"".concat(h.L,"/api/user/").concat(I),withCredentials:!0}).then((function(e){var t=e.data.notifications.filter((function(e){return"pending"===e.status&&e.notifieId!==I}));N(t)})).catch((function(e){return console.log(e)}))}))}),[i,I,z]),(0,r.useEffect)((function(){null===i||void 0===i||i.on("getNewpost",(function(e){F((function(t){return[].concat((0,c.Z)(t),[e])}))}))}),[i]),(0,r.useEffect)((function(){L&&I&&(N([]),(0,p.Z)({method:"get",url:"".concat(h.L,"/api/user/notification/").concat(I),withCredentials:!0}).then((function(e){e.data})).catch((function(e){return console.log(e)}))),H(x.N.open(L))}),[L,H,I]),(0,r.useEffect)((function(){I&&(0,p.Z)({method:"get",url:"".concat(h.L,"/api/user/").concat(I),withCredentials:!0}).then((function(e){var t=e.data.notifications.filter((function(e){return"pending"===e.status&&e.notifieId!==I}));N(t)})).catch((function(e){return console.log(e)}))}),[I]);var W=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)({method:"GET",url:h.L+"/api/post/",withCredentials:!0}).then((function(e){var t=e.data.slice(0,C);H(d.J.fetchAllPosts(t)),console.log("fetch again from leftbar"),M(C+5),F([])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"left",children:[(0,v.jsxs)(l.rU,{to:"/profile/me",className:"profile",children:[(0,v.jsx)("div",{className:"profile-picture",children:(0,v.jsx)(f.Z,{src:t.picture,alt:"profile1",srcSet:""})}),(0,v.jsxs)("div",{className:"handle",children:[(0,v.jsx)("h4",{children:t.pseudo}),(0,v.jsxs)("p",{className:"text-muted",children:["$",t.pseudo]})]})]}),(0,v.jsxs)("div",{className:"sidebar",children:[(0,v.jsxs)(l.rU,{to:"/",className:"menu-item active",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{onClick:function(){return W()},className:"ri-home-2-line",children:(0,v.jsx)("small",{className:A&&0!==A.length?"notifications-count":"",children:A&&0!==A.length?A.length:""})})})," ",(0,v.jsx)("h3",{children:"Home"})]}),(0,v.jsxs)(l.rU,{to:"/messenger",className:"menu-item",id:"messeges-notification",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{className:"ri-mail-line",children:(0,v.jsx)("small",{className:"notifications-coun"})})})," ",(0,v.jsx)("h3",{children:"Messages"})]}),(0,v.jsxs)(l.rU,{to:"#",className:"menu-item",id:"notifications",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{onClick:function(){return Z((function(e){return!e}))},className:"ri-notification-3-line",children:(0,v.jsx)("small",{className:0!==y.length?"notifications-count":"",children:0!==y.length&&(y.length>9?"9+":y.length)})})}),(0,v.jsx)("h3",{children:"Notificatios"})]}),(0,v.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{className:" ri-bookmark-3-line",children:(0,v.jsx)("small",{className:(0,g.xb)(t.saved)?void 0:"notifications-count",children:!(0,g.xb)(t.saved)&&(t.saved.length>9?"9+":t.saved.length)})})})," ",(0,v.jsx)("h3",{children:"Bookmarks"})]}),(0,v.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{className:"ri-bar-chart-grouped-line"})})," ",(0,v.jsx)("h3",{children:"Analystics"})]}),(0,v.jsxs)(l.rU,{to:"#",className:"menu-item",onClick:function(){return n(!0)},children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{className:"ri-palette-line"})})," ",(0,v.jsx)("h3",{children:"Theme"})]}),(0,v.jsxs)(l.rU,{to:"#",className:"menu-item",children:[(0,v.jsx)("span",{children:(0,v.jsx)("i",{className:"ri-settings-3-line"})})," ",(0,v.jsx)("h3",{children:"Settings"})]})]}),(0,v.jsx)("label",{htmlFor:"create-post",className:"btn btn-primary",children:"Create post"})]})})},k=n(843),y=n(5392),N=function(){var e=(0,u.v9)((function(e){return e.Allpost})),t=(0,u.v9)((function(e){return e.getusers})),n=(0,u.v9)((function(e){return e.trending})),s=(0,u.I0)();return(0,r.useEffect)((function(){if(!(0,g.xb)(e[0])&&e.length>5){var t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return t.likers.length-e.likers.length}));t.length=4,s(k.p.getTrending(t))}}),[e,s]),(0,r.useMemo)((function(){return(0,v.jsxs)("div",{children:[(0,v.jsx)("h5",{className:"logo",children:"Trendings posts this month"}),(0,v.jsx)("br",{}),(0,v.jsxs)("div",{className:"stories",children:[!(0,g.xb)(n[0])&&4===n.length&&n.map((function(e){return(0,v.jsxs)("div",{className:"story",children:[(0,v.jsx)("div",{className:"profile-picture",children:(0,v.jsx)(f.Z,{src:!(0,g.xb)(t[0])&&t.map((function(t){return t._id===e.posterId?t.picture:null})).join(""),alt:"ss"})}),(0,v.jsxs)(l.rU,{to:"/trendings",children:[e.picture&&(0,v.jsx)("img",{src:e.picture,alt:"aa"}),e.video&&(0,v.jsx)("iframe",{width:"100",height:"250",src:e.video,title:Math.random()}),(0,g.xb)(e.picture)&&(0,g.xb)(e.video)&&(0,v.jsx)(y.Z,{type:"trending",text:e.message,color:e.color})]}),(0,v.jsx)("p",{className:"name",children:!(0,g.xb)(t[0])&&t.map((function(t){return t._id===e.posterId?t.pseudo:null})).join("")})]},Math.random())})),e.length<6&&(0,v.jsx)("h1",{children:"No tredings posts in this mounth"})]})]})}),[n,t])},b=n(1413),w=n(2602),L=n(7120),Z=new Map;Z.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),Z.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",opacity:"0.2"}),r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),Z.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M176,92v96a16,16,0,0,1-16,16H48A40,40,0,0,1,8,164V68A16,16,0,0,1,24,52H136A40,40,0,0,1,176,92Zm68-18.9a7.7,7.7,0,0,0-8,0L196,95.9a8,8,0,0,0-4,7v50.2a8,8,0,0,0,4,7l40,22.8a8.3,8.3,0,0,0,4,1.1,8,8,0,0,0,4-1.1,7.8,7.8,0,0,0,4-6.9V80A7.8,7.8,0,0,0,244,73.1Z"}))})),Z.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),Z.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),Z.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M24,60H152a32,32,0,0,1,32,32v96a8,8,0,0,1-8,8H48a32,32,0,0,1-32-32V68A8,8,0,0,1,24,60Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"184 112 240 80 240 176 184 144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var E=function(e,t){return(0,w._)(e,t,Z)},S=(0,r.forwardRef)((function(e,t){return r.createElement(L.Z,Object.assign({ref:t},e,{renderPath:E}))}));S.displayName="VideoCamera";var C=S,M=new Map;M.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("circle",{cx:"156",cy:"100",r:"16"}))})),M.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184V56a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8Z",opacity:"0.2"}),r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"156",cy:"100",r:"12"}))})),M.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M168,100h0a12,12,0,0,1-12,12,12,12,0,0,1-12-12,12,12,0,0,1,24,0Zm64-44V184h0v16a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V168h0V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,164.7V56H40v92.7L76.7,112a16.1,16.1,0,0,1,22.6,0L144,156.7,164.7,136a16.1,16.1,0,0,1,22.6,0Z"}))})),M.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("circle",{cx:"156",cy:"100",r:"10"}))})),M.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("circle",{cx:"156",cy:"100",r:"8"}))})),M.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"156",cy:"100",r:"12"}))}));var z=function(e,t){return(0,w._)(e,t,M)},_=(0,r.forwardRef)((function(e,t){return r.createElement(L.Z,Object.assign({ref:t},e,{renderPath:z}))}));_.displayName="Image";var P=_,A=new Map;A.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"164 128 108 92 108 164 164 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),A.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M226.6,71.8A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128s3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2S228.9,80.8,226.6,71.8ZM112,160V96l48,32Z",opacity:"0.2"}),r.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),A.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M234.3,69.8a23.5,23.5,0,0,0-14.5-16.3C185.6,40.3,131,40.4,128,40.4s-57.6-.1-91.8,13.1A23.5,23.5,0,0,0,21.7,69.8C19.1,79.7,16,97.9,16,128s3.1,48.3,5.7,58.2a23.5,23.5,0,0,0,14.5,16.3c32.8,12.7,84.2,13.1,91.1,13.1h1.4c6.9,0,58.3-.4,91.1-13.1a23.5,23.5,0,0,0,14.5-16.3c2.6-9.9,5.7-28.1,5.7-58.2S236.9,79.7,234.3,69.8Zm-72.1,61.5-48,32a3.6,3.6,0,0,1-2.2.7,4.5,4.5,0,0,1-1.9-.5A3.9,3.9,0,0,1,108,160V96a3.9,3.9,0,0,1,2.1-3.5,4,4,0,0,1,4.1.2l48,32a3.9,3.9,0,0,1,0,6.6Z"}))})),A.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),A.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),A.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"160 128 112 96 112 160 160 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M24,128c0,29.8,3.1,47.2,5.4,56.2A16.1,16.1,0,0,0,39,195.1c33.5,12.8,89,12.5,89,12.5s55.5.3,89-12.5a16.1,16.1,0,0,0,9.6-10.9c2.3-9,5.4-26.4,5.4-56.2s-3.1-47.2-5.4-56.2A16.1,16.1,0,0,0,217,60.9c-33.5-12.8-89-12.5-89-12.5s-55.5-.3-89,12.5a16.1,16.1,0,0,0-9.6,10.9C27.1,80.8,24,98.2,24,128Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var F=function(e,t){return(0,w._)(e,t,A)},I=(0,r.forwardRef)((function(e,t){return r.createElement(L.Z,Object.assign({ref:t},e,{renderPath:F}))}));I.displayName="YoutubeLogo";var H=I,W=n(2948),O=(n(3093),n(3466)),q=n.n(O),U=n(6151),T=n(3543),J=n(3400),R=n(9658),V=r.forwardRef((function(e,t){return(0,v.jsx)(R.Z,(0,b.Z)({elevation:6,ref:t,variant:"filled"},e))})),D=function(e){var t=e.user,n=e.socket,i=(0,r.useContext)(m.i),c=(0,r.useState)(!0),l=(0,s.Z)(c,2),x=l[0],j=l[1],k=(0,r.useState)(""),N=(0,s.Z)(k,2),b=N[0],w=N[1],L=(0,r.useState)(null),Z=(0,s.Z)(L,2),E=Z[0],S=Z[1],M=(0,r.useState)(""),z=(0,s.Z)(M,2),_=z[0],A=z[1],F=(0,r.useState)(""),I=(0,s.Z)(F,2),O=I[0],R=I[1],D=(0,r.useState)(!1),B=(0,s.Z)(D,2),G=B[0],Q=B[1],Y=(0,u.I0)(),$=(0,r.useState)(0),X=(0,s.Z)($,2),K=X[0],ee=X[1],te=(0,r.useState)(),ne=(0,s.Z)(te,2),se=ne[0],re=ne[1],ie=(0,r.useState)(),oe=(0,s.Z)(ie,2),ae=oe[0],ce=oe[1],le=(0,r.useState)(!1),ue=(0,s.Z)(le,2),de=ue[0],he=ue[1],me=function(e){new Promise((function(t){q().imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},fe=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return S(URL.createObjectURL(t.target.files[0])),e.prev=2,n=t.target.files[0],e.next=6,me(n);case 6:s=e.sent,console.log(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:A(""),R(t.target.files[0]);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){i&&j(!1),function(){for(var e=b.split(" "),t=0;t<e.length;t++)if(e[t].includes("https://www.youtube.com")||e[t].includes("https://youtube.com")){var n=e[t].replace("watch?v=","embed/");A(n.split("&")[0]),e.splice(t,1),w(e.join(" ")),S("")}else if(e[t].includes("https://youtu.be/")){var s=e[t].replace("youtu.be/","www.youtube.com/embed/");A(s),e.splice(t,1),w(e.join(" ")),S("")}}()}),[i,b,_]);var pe=function(){w(""),A(""),S("")},ge=function(e,t){"clickaway"!==t&&Q(!1)},xe=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(U.Z,{color:"secondary",size:"small",onClick:ge,children:"UNDO"}),(0,v.jsx)(J.Z,{size:"small","aria-label":"close",color:"inherit",onClick:ge})]}),ve=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(s){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!(b||O||_)){e.next=12;break}return(r=new FormData).append("file",O),r.append("posterId",i),r.append("message",b),r.append("video",_),r.append("color",ae||"radial-gradient(circle, #5c0067 0%, #00d4ff 100%)"),e.next=10,(0,p.Z)({method:"post",url:"".concat(h.L,"/api/post/"),withCredentials:!0,data:r,onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);ee(t)}}).then((function(e){e.data;pe();var s=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Z)({method:"GET",url:h.L+"/api/post/",withCredentials:!0}).then((function(e){var s=e.data,r=s.slice(0,5);if(Y(d.J.fetchAllPosts(r)),console.log("fetch again from create post"),n.emit("NewPost",{data:s}),0!==t.followers.length)for(var i=0;i<t.followers.length;i++)(0,p.Z)({method:"patch",url:"".concat(h.L,"/api/post/notification/").concat(t.followers[i]),data:{notifieId:t._id,notifiePseudo:t.pseudo,notification:"post a new post",status:"pending",pictureNotifie:t.picture},withCredentials:!0}).then((function(e){var s=e.data;n.emit("sendNotification",{senderName:t._id,resverName:s._id,timeNot:new Date})})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()})).catch((function(e){return console.log(e)}));case 10:e.next=13;break;case 12:Q(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function je(e){var t=e.progress;return(0,v.jsx)("div",{className:"progress-bar",children:(0,v.jsxs)("div",{className:"progress",style:{width:"".concat(t,"%"),backgroundColor:"red"},children:[t," %"]})})}return(0,r.useEffect)((function(){!function(){for(var e=[],t=0;t<50;t++){var n=["yellow","white","gray","gold","blue","silver","turquoise","cyan","brown","pink","purple","green"],s="linear-gradient(to bottom right, rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+"), "+n[Math.floor(Math.random()*n.length)]+")";e.push(s)}re(e)}()}),[]),(0,r.useEffect)((function(){document.querySelectorAll(".colorPallete span").forEach((function(e){e.addEventListener("click",(function(e){ce(e.target.id)}))}))})),(0,v.jsxs)("div",{children:[x?(0,v.jsx)("h5",{children:"loading.........."}):(0,v.jsxs)("form",{onSubmit:function(e){return ve(e)},children:[(0,v.jsxs)("div",{className:"create-post",children:[(0,v.jsx)("div",{className:"profile-picturem",children:(0,v.jsx)(f.Z,{src:t.picture,alt:"asa"})}),(0,v.jsx)(W.Z,{id:"create-post",placeholder:"whats something new ",onChange:function(e){return w(e.target.value)},value:b}),(0,v.jsx)("input",{type:"submit",value:"Post",className:"btn btn-primary"})]}),(0,v.jsxs)("div",{className:"vidoe_yt_img",children:[(0,v.jsx)("i",{children:(0,v.jsx)(J.Z,{children:(0,v.jsx)(C,{onClick:function(){return he(!0)}})})}),(0,v.jsx)("span",{children:"video"}),(0,v.jsx)("i",{className:"fileSelecter",children:(0,v.jsx)(J.Z,{children:(0,v.jsx)(P,{onClick:function(){return he(!0)}})})}),(0,v.jsx)("span",{children:"picture"}),(0,v.jsx)("i",{children:(0,v.jsx)(J.Z,{children:(0,v.jsx)(H,{onClick:function(){return he(!0)}})})}),(0,v.jsx)("span",{children:"youtube"})]}),(0,v.jsx)(je,{progress:K})]}),de&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"popupCreatePost",children:[(0,v.jsx)("div",{className:"cancelPost",onClick:function(){return he(!1)},children:(0,v.jsx)("i",{className:"ri-close-fill"})}),(0,v.jsxs)("div",{className:"mainPost",children:[(0,v.jsxs)("div",{className:"middleMain",children:[(0,v.jsxs)("div",{className:"postLookLike",children:[(0,v.jsx)("p",{children:"Previsualization"}),!b&&!E&&!_&&(0,v.jsx)("div",{className:"Previsualization",children:"once your start creating post here will show your how post will look"}),(0,v.jsxs)(v.Fragment,{children:[(b||E||_)&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"feeds",children:(0,v.jsxs)("div",{className:"feed",children:[(0,v.jsxs)("div",{className:"head",children:[(0,v.jsxs)("div",{className:"user",children:[(0,v.jsx)("div",{className:"profile-picture",children:(0,v.jsx)(f.Z,{src:t.picture,alt:t.pseudo})}),(0,v.jsxs)("div",{className:"ingo",children:[(0,v.jsx)("span",{children:(0,v.jsx)("h4",{children:t.pseudo})}),(0,v.jsx)("small",{children:(0,g.RX)(Date.now())})]})]}),(0,v.jsx)("span",{className:"edit "})]}),!_&&!E&&(0,v.jsx)("div",{className:"news ",children:(0,v.jsx)(y.Z,{type:"posts",text:b,color:ae})}),(_||E)&&(0,v.jsx)("div",{className:"news ",children:(0,v.jsx)("b",{children:b})}),_&&(0,v.jsx)("div",{className:"photo ",children:(0,v.jsx)("iframe",{height:"250",width:"400",src:_,title:Math.random()})}),E&&(0,v.jsx)("div",{className:"photo ",children:(0,v.jsx)("img",{src:E,alt:"abc"})})]})})}),(0,v.jsx)(T.Z,{open:G,autoHideDuration:6e3,onClose:ge,action:xe,children:(0,v.jsx)(V,{onClose:ge,severity:"warning",sx:{width:"100%"},children:"veuillez entrer un message pour poster"})})]})]}),(0,v.jsxs)("div",{className:"outils",children:[(0,v.jsx)("p",{children:"Creating post"}),!b&&!E&&!_&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"choose",children:(0,v.jsxs)("svg",{"aria-label":"Ic\xf4ne pour repr\xe9senter le contenu multim\xe9dia, comme les images ou les vid\xe9os",class:"x1lliihq x1n2onr6",color:"var(--color-name)",fill:"rgb(245, 245, 245)",height:"100",role:"img",viewBox:"0 0 97.6 77.3",width:"100",children:[(0,v.jsx)("title",{children:"Ic\xf4ne pour repr\xe9senter le contenu multim\xe9dia, comme les images ou les vid\xe9os"}),(0,v.jsx)("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z",fill:"currentColor"}),(0,v.jsx)("path",{d:"M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z",fill:"currentColor"}),(0,v.jsx)("path",{d:"M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z",fill:"currentColor"})]})}),(0,v.jsx)("div",{className:"filechoose",onClick:function(){return w("\ud83d\udc47\ud83d\udc47\ud83d\udc47click to the icon bellow to choose a picture")},children:" Choose file in your device"}),(0,v.jsx)("div",{className:"textchoose",onClick:function(){return w("start writting whats in your mind")},children:" Create text post"})]}),(b||E||_)&&(0,v.jsxs)("div",{className:"inputpost",children:[(0,v.jsx)(W.Z,{placeholder:"something new",onChange:function(e){return w(e.target.value)},value:b}),(0,v.jsx)("div",{className:"ri-fill-media",children:(0,v.jsx)("i",{className:"fileSelecter",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("i",{className:"ri ri-image-fill"}),(0,v.jsx)("input",{type:"file",className:"inputPicture",name:"file",onChange:function(e){return fe(e)},accept:".jpg,.jpeg,.png",title:"choose your file "})]})})})]}),!_&&!E&&b&&(0,v.jsx)("div",{className:"news ",children:(0,v.jsxs)("div",{className:"colorPallete",children:[se&&se.map((function(e,t){return(0,v.jsx)("span",{id:e,style:{backgroundImage:e}},t)})),(0,v.jsx)("span",{children:(0,v.jsx)("input",{type:"color"})})]})}),E||b||_.length>20?(0,v.jsx)("button",{className:"btn-new",onClick:pe,children:"annuler"}):null,_?(0,v.jsx)("button",{className:"btn-new",onClick:function(){A("")},children:"delete video"}):null,E?(0,v.jsx)("button",{className:"btn-new",onClick:function(){S("")},children:"delete picture"}):null]})]}),(0,v.jsx)("div",{className:"partager",children:(0,v.jsx)("button",{className:"btn btn-primary",onClick:ve,children:"partager"})})]})]})})]})},B=n(8169),G=n(3821),Q=function(e){var t=e.setcustomizeTheme,n=e.user;return(0,r.useEffect)((function(){var e,s,r,i,o,a,c=document.querySelector(":root"),l=document.querySelectorAll(".choose-color span"),u=document.querySelectorAll(".choose-size span"),d=document.querySelector(".customize-theme"),h=document.querySelector(".bg-1"),m=document.querySelector(".bg-2"),f=document.querySelector(".bg-3"),p=JSON.parse(localStorage.getItem("".concat(n._id)));d.addEventListener("click",(function(e){e.target.classList.contains("customize-theme")&&t(!1)}));function g(){c.style.setProperty("--light-color-lightness",r),c.style.setProperty("--white-color-lightness",o),c.style.setProperty("--dark-color-lightness",i),c.style.setProperty("--color-name-lightness",a);var e=JSON.parse(localStorage.getItem("".concat(n._id)));localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},e),{},{lightcolorlightness:r,whitecolorlightness:o,darkcolorlightness:i,colornamelightness:a})))}u.forEach((function(e){e.addEventListener("click",(function(){u.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),e.classList.contains("font-size-1")&&(s="10px",c.style.setProperty("--stick-top-left","5.4rem"),c.style.setProperty("--stick-top-right","5.4rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{font_size:s})))),e.classList.contains("font-size-2")&&(s="13px",c.style.setProperty("--stick-top-left","5.4rem"),c.style.setProperty("--stick-top-right","-7rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{font_size:s})))),e.classList.contains("font-size-3")&&(s="16px",c.style.setProperty("--stick-top-left","5.4rem"),c.style.setProperty("--stick-top-right","-10rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{font_size:s})))),e.classList.contains("font-size-4")&&(s="19px",c.style.setProperty("--stick-top-left","-5rem"),c.style.setProperty("--stick-top-right","-25rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{font_size:s})))),e.classList.contains("font-size-5")&&(s="22px",c.style.setProperty("--stick-top-left","-10rem"),c.style.setProperty("--stick-top-right","-30rem"),localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{font_size:s})))),document.querySelector("html").style.fontSize=s}))})),l.forEach((function(t){t.addEventListener("click",(function(){l.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),t.classList.contains("color-1")&&(e=252,localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{primaryHue:e})))),t.classList.contains("color-2")&&(e=52,localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{primaryHue:e})))),t.classList.contains("color-3")&&(e=352,localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{primaryHue:e})))),t.classList.contains("color-4")&&(e=152,localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{primaryHue:e})))),t.classList.contains("color-5")&&(e=202,localStorage.setItem("".concat(n._id),JSON.stringify((0,b.Z)((0,b.Z)({},p),{},{primaryHue:e})))),c.style.setProperty("--color-primary-hue",e)}))})),h.addEventListener("click",(function(){i="17%",o="100%",r="95%",a="0%",h.classList.add("active"),m.classList.remove("active"),f.classList.remove("active"),g()})),m.addEventListener("click",(function(){i="95%",o="20%",r="15%",a="80%",m.classList.add("active"),h.classList.remove("active"),f.classList.remove("active"),g()})),f.addEventListener("click",(function(){i="0%",o="10%",r="0%",a="100%",f.classList.add("active"),h.classList.remove("active"),m.classList.remove("active"),g()}));u.forEach((function(e){"10px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-1")&&e.classList.add("active"),"13px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-2")&&e.classList.add("active"),"16px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-3")&&e.classList.add("active"),"19px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-4")&&e.classList.add("active"),"22px"===document.querySelector("html").style.fontSize&&e.classList.contains("font-size-5")&&e.classList.add("active")}))})),(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"customize-theme",children:(0,v.jsxs)("div",{className:"card",children:[(0,v.jsx)("h2",{className:"custom",children:"Customize your view"}),(0,v.jsx)("p",{className:"text-muted",children:"Manage your color,backaground and font size"}),(0,v.jsxs)("div",{className:"font-size",children:[(0,v.jsx)("h4",{className:"custom",children:"Font Size"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"custom",children:"Aa"}),(0,v.jsxs)("div",{className:"choose-size",children:[(0,v.jsx)("span",{className:"font-size-1"}),(0,v.jsx)("span",{className:"font-size-2 "}),(0,v.jsx)("span",{className:"font-size-3"}),(0,v.jsx)("span",{className:"font-size-4"}),(0,v.jsx)("span",{className:"font-size-5"})]}),(0,v.jsx)("h3",{className:"custom",children:"Aa"})]})]}),(0,v.jsxs)("div",{className:"color",children:[(0,v.jsx)("h4",{className:"custom",children:"Color"}),(0,v.jsxs)("div",{className:"choose-color",children:[(0,v.jsx)("span",{className:"color-1 active"}),(0,v.jsx)("span",{className:"color-2"}),(0,v.jsx)("span",{className:"color-3"}),(0,v.jsx)("span",{className:"color-4"}),(0,v.jsx)("span",{className:"color-5"})]})]}),(0,v.jsxs)("div",{className:"background",children:[(0,v.jsx)("h4",{className:"custom",children:"backaground"}),(0,v.jsxs)("div",{className:"choose-bg",children:[(0,v.jsxs)("div",{className:"bg-1 active",children:[(0,v.jsx)("span",{}),(0,v.jsx)("h5",{htmlFor:"bg-1",children:"Light "})]}),(0,v.jsxs)("div",{className:"bg-2",children:[(0,v.jsx)("span",{}),(0,v.jsx)("h5",{htmlFor:"bg-2",children:"Dim"})]}),(0,v.jsxs)("div",{className:"bg-3",children:[(0,v.jsx)("span",{}),(0,v.jsx)("h5",{htmlFor:"bg-3",children:"Lights out"})]})]})]})]})})})},Y=n(6816),$=function(e){var t=e.socket,n=(0,r.useState)(!1),o=(0,s.Z)(n,2),a=o[0],c=o[1],l=(0,u.v9)((function(e){return e.userInfo})),d=(0,u.v9)((function(e){return e.getusers})),h=(0,r.useContext)(m.i),f=(0,u.I0)();return(0,r.useEffect)((function(){f(Y.c.GetAll((0,g.ge)(d,(0,g.uI)(h,d))))})),(0,r.useEffect)((function(){t&&l&&l.pseudo&&t.emit("newuser",l._id),"no token"===h&&(window.location="/login")}),[t,l.pseudo,l,h]),(0,r.useEffect)((function(){var e=document.querySelectorAll(".menu-item ");e.forEach((function(t){t.addEventListener("click",(function(){e.forEach((function(e){e.classList.remove("active")})),t.classList.add("active")}))}));var t=document.querySelector(":root"),n=JSON.parse(localStorage.getItem("".concat(l._id)));n&&(n.primaryHue&&t.style.setProperty("--color-primary-hue",n.primaryHue),n.font_size&&(document.querySelector("html").style.fontSize=n.font_size),n.lightcolorlightness&&t.style.setProperty("--light-color-lightness",n.lightcolorlightness),n.whitecolorlightness&&t.style.setProperty("--white-color-lightness",n.whitecolorlightness),n.darkcolorlightness&&t.style.setProperty("--dark-color-lightness",n.darkcolorlightness),n.colornamelightness&&t.style.setProperty("--color-name-lightness",n.colornamelightness))})),(0,v.jsx)(v.Fragment,{children:"no token"!==h&&null!==h&&(0,v.jsxs)(i.Z,{title:"Home",children:[(0,v.jsx)("main",{children:(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)(j,{user:l,setcustomizeTheme:c,socket:t}),(0,v.jsxs)("div",{className:"middle",children:[(0,v.jsx)(N,{}),(0,v.jsx)(D,{user:l,socket:t}),(0,v.jsx)(B.Z,{socket:t,type:"home"})]}),(0,v.jsx)(G.Z,{user:l})]})}),a&&(0,v.jsx)(Q,{setcustomizeTheme:c,user:l})]})})}},3466:function(e){!function(){"use strict";var t={d:function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:function(){return r}});var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return t=[{key:"changeHeightWidth",value:function(e,t,n,s,r,i){return n>s&&(e=Math.round(e*s/n),n=s),e>t&&(n=Math.round(n*t/e),e=t),r&&n<r&&(e=Math.round(e*r/n),n=r),i&&e<i&&(n=Math.round(n*i/e),e=i),{height:e,width:n}}},{key:"resizeAndRotateImage",value:function(e,t,n,s,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,a=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:100)/100,c=document.createElement("canvas"),l=e.width,u=e.height,d=this.changeHeightWidth(u,n,l,t,s,r);!o||90!==o&&270!==o?(c.width=d.width,c.height=d.height):(c.width=d.height,c.height=d.width),l=d.width,u=d.height;var h=c.getContext("2d");return h.fillStyle="rgba(0, 0, 0, 0)",h.fillRect(0,0,l,u),h.imageSmoothingEnabled&&h.imageSmoothingQuality&&(h.imageSmoothingQuality="high"),o&&(h.rotate(o*Math.PI/180),90===o?h.translate(0,-c.width):180===o?h.translate(-c.width,-c.height):270===o?h.translate(-c.height,0):0!==o&&360!==o||h.translate(0,0)),h.drawImage(e,0,0,l,u),c.toDataURL("image/".concat(i),a)}},{key:"b64toByteArrays",value:function(e,t){t=t||"image/jpeg";for(var n=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),s=[],r=0;r<n.length;r+=512){for(var i=n.slice(r,r+512),o=new Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);var c=new Uint8Array(o);s.push(c)}return s}},{key:"b64toBlob",value:function(e,t){var n=this.b64toByteArrays(e,t);return new Blob(n,{type:t,lastModified:new Date})}},{key:"b64toFile",value:function(e,t,n){var s=this.b64toByteArrays(e,n);return new File(s,t,{type:n,lastModified:new Date})}},{key:"createResizedImage",value:function(t,n,s,r,i,o,a){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=new FileReader;if(!t)throw Error("File Not Found!");if(t.type&&!t.type.includes("image"))throw Error("File Is NOT Image!");d.readAsDataURL(t),d.onload=function(){var h=new Image;h.src=d.result,h.onload=function(){var d=e.resizeAndRotateImage(h,n,s,l,u,r,i,o),m="image/".concat(r);switch(c){case"blob":var f=e.b64toBlob(d,m);a(f);break;case"base64":default:a(d);break;case"file":var p=t.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(r.toString()),g=e.b64toFile(d,p,m);a(g)}}},d.onerror=function(e){throw Error(e)}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e,t),e}(),r={imageFileResizer:function(e,t,n,r,i,o,a,c,l,u){return s.createResizedImage(e,t,n,r,i,o,a,c,l,u)}};e.exports=n}()},3093:function(e,t,n){"use strict";e.exports=n.p+"static/media/feed-1.58487fbb05a45c938f6a.jpg"}}]);
//# sourceMappingURL=667.6db8033f.chunk.js.map